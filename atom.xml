<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>LEARN</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://superdjm.github.io/"/>
  <updated>2017-12-28T16:37:07.348Z</updated>
  <id>http://superdjm.github.io/</id>
  
  <author>
    <name>Jamie Deng</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>关于我</title>
    <link href="http://superdjm.github.io/2017/12/29/%E5%85%B3%E4%BA%8E%E6%88%91/"/>
    <id>http://superdjm.github.io/2017/12/29/关于我/</id>
    <published>2017-12-28T16:37:07.000Z</published>
    <updated>2017-12-28T16:37:07.348Z</updated>
    
    <summary type="html">
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Make the .gitignore file work immediately</title>
    <link href="http://superdjm.github.io/2017/01/06/make-gitignore-e7-ab-8b-e5-8d-b3-e7-94-9f-e6-95-88/"/>
    <id>http://superdjm.github.io/2017/01/06/make-gitignore-e7-ab-8b-e5-8d-b3-e7-94-9f-e6-95-88/</id>
    <published>2017-01-06T06:56:08.000Z</published>
    <updated>2017-12-19T16:15:06.961Z</updated>
    
    <content type="html"><![CDATA[<p>用过idea或者其他ide的人都知道。如果不想让一些test文件，或者ide配置文件一起上传到项目当中，我们用.gitignore来忽略这些文件。</p><p>但是有时候你会发现，没有建.gitignore之前，那些需要忽略的文件已经提交了，这时，即使把新建的.gitignore文件提交了，也无法让已经上传上去的文件撤下来。</p><p>我们可以用下面简单的三行命令解决这个问题，核心思想就是重新add。</p><pre><code>git rm -r --cached .git add .git commit -m &#39;update .gitignore&#39;</code></pre><div class="line number1 index0 alt2"></div>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;用过idea或者其他ide的人都知道。如果不想让一些test文件，或者ide配置文件一起上传到项目当中，我们用.gitignore来忽略这些文件。&lt;/p&gt;
&lt;p&gt;但是有时候你会发现，没有建.gitignore之前，那些需要忽略的文件已经提交了，这时，即使把新建的.gitig
      
    
    </summary>
    
      <category term="GIT" scheme="http://superdjm.github.io/categories/GIT/"/>
    
    
  </entry>
  
  <entry>
    <title>apache segmentation fault</title>
    <link href="http://superdjm.github.io/2016/10/30/apache-segmentation-fault/"/>
    <id>http://superdjm.github.io/2016/10/30/apache-segmentation-fault/</id>
    <published>2016-10-30T13:11:55.000Z</published>
    <updated>2017-12-19T16:15:06.961Z</updated>
    
    <content type="html"><![CDATA[<p>今天外包的一个项目突然崩了，显示“服务器未发送任何数据”（<strong>err empty response</strong>），之前遇到这种情况一般是自己的代码写错了，然后<strong>没有正常输出数据</strong>。但是代码上线一年多，而且都由我来维护，不可能是代码的问题。</p><p>首先ping域名发现ip是对的而且能ping通，那就排除了服务器域名dns的问题。</p><p>然后登上服务器，第一步先用<strong>top</strong>，发现负载为0，内存、io也木有问题。</p><p>第二步检查一下apache的状态，发现进程正常运行，端口也正常绑定。所以直接先重启apache。</p><pre><code>ps aux | grep &quot;httpd&quot;//查看进程netstat -an | grep &quot;:80&quot;//查看网络监听/etc/init.d/httpd restart //重启apache`&lt;/pre&gt;然后网站就能正常访问了。**基本确定是apache的问题了。**于是第三步从apache的日志入手。&lt;pre class=&quot;pure-highlightjs&quot;&gt;`tail -f /etc/httpd/logs/error_log`&lt;/pre&gt;结果如下图，出现一大堆的segmentation fault，也是本文的标题。[![apache segmentation fault](http://blog.djmgod.cn/wp-content/uploads/2016/10/QQ图片20161030204012-300x82.png)](http://blog.djmgod.cn/2016/10/apache-segmentation-fault.html/qq%e5%9b%be%e7%89%8720161030204012)上网google了一下，比较靠谱的说法是因为**php的zend模块**引起的。我确实部署了一个xcache来加速php，于是去他的bug report里面找，终于发现有类似的bug爆出。**还发现使用了加速php这类的zend扩展都会有引起apache段错误的问题**。最后我**卸载了xcache**，然后业务暂时回复正常。**我的思考：**由于xcache+PHP+Apache这个方案已经运行了一年多了，期间也只是出现xcache的oom问题，所以我怀疑问题可能不是出自xcache，或者还有其他的原因，如果要追根到底的话，可以对httpd进行调试，由于是线上环境，而且我的空余时间不是很多，就没有再去尝试了。读者可以自己检验。&lt;pre class=&quot;pure-highlightjs&quot;&gt;`gdb httpd</code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;今天外包的一个项目突然崩了，显示“服务器未发送任何数据”（&lt;strong&gt;err empty response&lt;/strong&gt;），之前遇到这种情况一般是自己的代码写错了，然后&lt;strong&gt;没有正常输出数据&lt;/strong&gt;。但是代码上线一年多，而且都由我来维护，不可能是
      
    
    </summary>
    
      <category term="杂记" scheme="http://superdjm.github.io/categories/%E6%9D%82%E8%AE%B0/"/>
    
    
  </entry>
  
  <entry>
    <title>static的作用</title>
    <link href="http://superdjm.github.io/2016/10/07/static-e7-9a-84-e4-bd-9c-e7-94-a8/"/>
    <id>http://superdjm.github.io/2016/10/07/static-e7-9a-84-e4-bd-9c-e7-94-a8/</id>
    <published>2016-10-06T16:19:27.000Z</published>
    <updated>2017-12-19T16:15:06.960Z</updated>
    
    <content type="html"><![CDATA[<p>上一篇文章<a href="http://blog.djmgod.cn/2016/10/c%e7%9a%845%e7%a7%8d%e5%82%a8%e5%ad%98%e7%b1%bb.html" target="_blank" rel="noopener">c的5种储存类</a>有说到static，这篇文章总结一下static的作用。</p><p>static关键字至少有下列n个作用：<br>（1）设置变量的存储域，函数体内static变量的作用范围为该函数体，不同于auto变量，该变量的内存只被分配一次，因此其值在下次调用时仍维持上次的值；</p><p>（2）限制变量的作用域，在模块内的static全局变量可以被模块内所用函数访问，但不能被模块外其它函数访问；</p><p>（3）限制函数的作用域，在模块内的static函数只可被这一模块内的其它函数调用，这个函数的使用范围被限制在声明它的模块内；</p><p>以下是C++对static的扩展<br>（4）在类中的static成员变量意味着它为该类的所有实例所共享，也就是说当某个类的实例修改了该静态成员变量，其修改值为该类的其它所有实例所见；<br>（5）在类中的static成员函数属于整个类所拥有，这个函数不接收this指针，因而只能访问类的static成员变量。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;上一篇文章&lt;a href=&quot;http://blog.djmgod.cn/2016/10/c%e7%9a%845%e7%a7%8d%e5%82%a8%e5%ad%98%e7%b1%bb.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;c的5种储存类&lt;
      
    
    </summary>
    
      <category term="c/c++" scheme="http://superdjm.github.io/categories/c-c/"/>
    
    
  </entry>
  
  <entry>
    <title>c的5种储存类</title>
    <link href="http://superdjm.github.io/2016/10/06/c-e7-9a-845-e7-a7-8d-e5-82-a8-e5-ad-98-e7-b1-bb/"/>
    <id>http://superdjm.github.io/2016/10/06/c-e7-9a-845-e7-a7-8d-e5-82-a8-e5-ad-98-e7-b1-bb/</id>
    <published>2016-10-06T14:05:27.000Z</published>
    <updated>2017-12-19T16:15:06.960Z</updated>
    
    <content type="html"><![CDATA[<p>在c语言里面，用于储存程序数据的内存可用存储时期、作用域、链接来表征。</p><p>储存时期可以是静态的、自动的或者分配的。如果是静态的，内存在程序开始执行的时候被分配，并在程序运行时一直存在。如果是自动的，变量所用的内存在程序执行到该变量定义的 代码块时开始分配，在退出代码时，自动释放。如果是程序员自己分配的（malloc或者其他相关函数）内存，通过free（）释放。<br>作用域决定了哪一部分程序可以访问某个数据。在所有函数之外定义的变量具有问津啊作用域，并对该变量声明之后定义的全部函数可见。在代码块里面定义或者作为函数参数定义的变量具有代码块作用域，并只在该代码块及其子代码块中可见。</p><p>链接描述了程序的某个单元定义的变量可被链接到其他的哪些地方。具有代码块作用域的变量作为局部变量，具有空链接。具有文件作用域的变量可有内部链接或外部链接。内部链接意味着变量只可在包含变量定义的文件内部使用，外部链接意味着变量可以在其他文件中使用。</p><p>下面是5种存储类：</p><p>自动—-在一个代码块内(或在一个函数头部作为参量)声明的变量，无论有没有储存类修饰符auto，都属于自动储存类，该类具有自动储存时期、代码块作用域和空链接。若未经初始化，他的值是不定的。</p><p>寄存器—-在一个代码块内(或在一个函数头部作为参量)使用储存类修饰符register声明的变量属于寄存器储存类。把一个变量声明为寄存器变量可以指示编译器提供可用的最快访问（根据系统情况选择存放在寄存器还是高速内存，你无法获取他的地址）。在其他许多方面，和auto类一样。</p><p>静态、空链接—-在一个代码块内使用储存类修饰符static声明的变量属于静态空链接储存类。该类拥有静态储存时期、代码块作用域和空链接，仅在编译的时候初始化一次。如未明确初始化，所有的字节都被设定为0.</p><p>静态、外部链接—-在所有函数外部定义、未使用static声明的变量属于静态、外部链接储存类。该类拥有静态储存时期、代码块作用域和外部链接，仅在编译的时候初始化一次。如未明确初始化，所有的字节都被设定为0.</p><p>静态、内部链接—–在所有函数外部定义、使用了static声明的变量属于静态、外部链接储存类。该类拥有静态储存时期、代码块作用域和外部链接，仅在编译的时候初始化一次。如未明确初始化，所有的字节都被设定为0.</p><p>&nbsp;</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;在c语言里面，用于储存程序数据的内存可用存储时期、作用域、链接来表征。&lt;/p&gt;
&lt;p&gt;储存时期可以是静态的、自动的或者分配的。如果是静态的，内存在程序开始执行的时候被分配，并在程序运行时一直存在。如果是自动的，变量所用的内存在程序执行到该变量定义的 代码块时开始分配，在退出
      
    
    </summary>
    
      <category term="杂记" scheme="http://superdjm.github.io/categories/%E6%9D%82%E8%AE%B0/"/>
    
    
  </entry>
  
  <entry>
    <title>进程与线程</title>
    <link href="http://superdjm.github.io/2016/10/06/e8-bf-9b-e7-a8-8b-e4-b8-8e-e7-ba-bf-e7-a8-8b/"/>
    <id>http://superdjm.github.io/2016/10/06/e8-bf-9b-e7-a8-8b-e4-b8-8e-e7-ba-bf-e7-a8-8b/</id>
    <published>2016-10-06T06:32:17.000Z</published>
    <updated>2017-12-19T16:15:06.961Z</updated>
    
    <content type="html"><![CDATA[<div></div><br><div>面试的时候又问到，自己总结了一下。仅供参考。</div><br><div></div><br><div><strong>进程定义</strong></div><br><div>进程是进程实体的运行过程，是系统仅从资源分配和调度的一个独立单位。</div><br><div><strong>进程几种基本状态</strong></div><br><div>1、就绪</div><br><div>2、阻塞</div><br><div>3、执行</div><br><div><strong>进程转换过程</strong></div><br><div>1、就绪-&gt;执行 进程调度（获得cpu资源和时间片）</div><br><div>2、执行-&gt;就绪 时间片完</div><br><div>3、执行-&gt;阻塞 i/o请求</div><br><div>4、阻塞-&gt;就绪 i/o完成</div><br><div><strong>pcb（Process Control Block）的作用</strong></div><br><div>1、pcb是系统感知进程存在的唯一标志</div><br><div>2、因为进程切换时会把cpu的现场保存在pcb，实现了间断性运行方式</div><br><div>3、保存了进程管理所需要的信息。保存了内存和外存的始址指针、文件、i/o设备等进程运行的全部资源</div><br><div>4、提供进程调度所需要的信息。保存了状态信息、优先级、等待时间、已执行时间等</div><br><div>5、实现与其他进程的同步与通讯。保存了用于同步的信号量、用于进程通讯的区域或通信队列指针等。</div><br><div><strong>pcb存的信息</strong></div><br><div>1、进程标识符</div><br><div>     1、外部标识符 用户自己定义的</div><br><div>     2、内部标识符 os赋予的唯一数字id</div><br><div>2、处理机状态</div><br><div>     1、通用寄存器</div><br><div>     2、指令计数器</div><br><div>     3、程序状态字psw（条件码、执行方式、中断屏蔽标志等）</div><br><div>     4、用户栈指针</div><br><div>3、进程调度信息</div><br><div>     1、进程状态</div><br><div>     2、进程优先级</div><br><div>     3、进程调度算法有关，hrrn（Highest Response Ratio Next）高响应比优先调度算法，需要等待时间、运行时间等参数</div><br><div>     4、事件。是指发生进程转换的原因</div><br><div>4、进程控制信息</div><br><div>     1、程序与数据的地址</div><br><div>     2、同步与通讯的所需的信息，消息队列指针、信号量</div><br><div>     3、资源清单。除cpu外的进程运行所需资源，还有一张已分配给该程序的资源清单</div><br><div>     4、链接指针。下一个进程pcb的首地址。</div><br><div><strong>进程ipc</strong></div><br><div>1、管道</div><br><div>2、消息队列</div><br><div>3、共享内存</div><br><div>4、信号</div><br><div>5、socket</div><br><div><br><br><em> </em> <em><br><br></em></div><br><div><strong>线程与进程的比较</strong></div><br><div>1、线程是调度和分派的基本单位，是能独立运行的基本单位。</div><br><div>2、进程之间可以并发，线程之间也能并发。</div><br><div>3、进程是资源分配的基本单位，线程本身不拥有系统资源，它仅保存了tcb、一组寄存器和栈。同一进程的线程共享相同的地址空间。</div><br><div>4、进程间相互独立，同一进程的各线程间共享。某进程内的线程在其它进程不可见。</div><br><div>5、线程切换和撤销都比进程快。</div><br><div>7、在多线程OS中，进程不是一个可执行的实体。</div><br><div><em>*线程控制块tcb</em></div><br><div>1、线程id</div><br><div>2、一组寄存器，程序计数器PC、状态寄存器、通用寄存器（都是副本）</div><br><div>3、线程运行状态</div><br><div>4、优先级</div><br><div>5、线程专用储存区，用于线程切换时存放cpu现场。</div><br><div>6、信号屏蔽</div><br><div>7、堆栈（栈）指针，局部变量和返回地址。2个指针，一个指向用户栈，一个指向系统栈。</div>]]></content>
    
    <summary type="html">
    
      
      
        &lt;div&gt;&lt;/div&gt;&lt;br&gt;&lt;div&gt;面试的时候又问到，自己总结了一下。仅供参考。&lt;/div&gt;&lt;br&gt;&lt;div&gt;&lt;/div&gt;&lt;br&gt;&lt;div&gt;&lt;strong&gt;进程定义&lt;/strong&gt;&lt;/div&gt;&lt;br&gt;&lt;div&gt;进程是进程实体的运行过程，是系统仅从资源分配和调度的一个独立单位
      
    
    </summary>
    
      <category term="c/c++" scheme="http://superdjm.github.io/categories/c-c/"/>
    
    
  </entry>
  
  <entry>
    <title>分布式一致性算法</title>
    <link href="http://superdjm.github.io/2016/09/04/e5-88-86-e5-b8-83-e5-bc-8f-e4-b8-80-e8-87-b4-e6-80-a7-e7-ae-97-e6-b3-95/"/>
    <id>http://superdjm.github.io/2016/09/04/e5-88-86-e5-b8-83-e5-bc-8f-e4-b8-80-e8-87-b4-e6-80-a7-e7-ae-97-e6-b3-95/</id>
    <published>2016-09-04T07:28:53.000Z</published>
    <updated>2017-12-19T16:15:06.960Z</updated>
    
    <content type="html"><![CDATA[<h3 id="一、强一致性"><a href="#一、强一致性" class="headerlink" title="一、强一致性"></a>一、强一致性</h3><p>R+W&gt;N，建设有3个节点，每次读时，读2个节点并且数据一致；写时，写2个节点都成功才算写成功。这种是强一致性。</p><p>2PC，3PC 多个节点都成功时，才算成功，否则进行回滚操作。</p><p>PAXOS，类似于2PC,解决分布式系统如何就某个值（决议）达成一致，进行投票选举。是一种无主的节点的算法。分布式的协调服务zookeeper就实现了这个算法，保障一致性。mongodb中的集群方案replicaset也实现了类似的算法。</p><h3 id="二、弱一致性"><a href="#二、弱一致性" class="headerlink" title="二、弱一致性"></a>二、弱一致性</h3><p>由于分布式系统在数据同步时的网络延迟等等因素，无法保证副本数据和主节点时刻保持一致，当出现不一致的时，可以采用以下几种策略保证最终一致性</p><p>Gossip（Cassandra，Dynamo），是带冗余容错算法，也就是最终一致性的算法，无法保证某时刻所有节点数据一致，它是一个去中心化的部署方式，集群中每个节点维护一组状态，状态可以用key,value，外带一个版本号表示，版本大的比版本小的数据新，节点之间相互交流数据的版本信息，并更新数据，类似病毒式的传递，这样数据可以达到最终一致。Cassandra就是采取这种策略来进行数据的同步,并且维护节点的健康状态。</p><p>Raft:</p><p>在一个由 Raft 协议组织的集群中有三类角色：</p><ul><li>Leader（领袖）</li><li>Follower（群众）</li><li>Candidate（候选人）<br>就像一个民主社会，领袖由民众投票选出。刚开始没有领袖，所有集群中的参与者都是群众，那么首先开启一轮大选，在大选期间所有群众都能参与竞选，这时所有群众的角色就变成了候选人，民主投票选出领袖后就开始了这届领袖的任期，然后选举结束，所有除领袖的候选人又变回群众角色服从领袖领导。这里提到一个概念「任期」，用术语 Term 表达。</li></ul><p>Leader选举阶段</p><p>1、至少有三个Candidate，因为要保证其中一个能获得多数票。</p><p>2、所有Candidate启动随机的定时器，timeout后，Candidate会先投自己一票，然后向其他人发送拉票申请。</p><p>3、Candidate收到其他人的拉票请求后，在没有投过票的情况下，给最早到达的拉票投票。</p><p>4、当一个Candidate获得多数票后，会宣布自己当选Leader，然后item+1，如果，没有一个节点当选，则执行随机退让算法，重新启动随机器，进行新的一轮投票，直到一个Candidate当选为止。</p><p>一致性的保证</p><p>1、client先向Leader发请求，Leader向所有Follower广播，当Leader收到半数的ack后，才向client回复ack。</p><p>2、保证Leader拥有最新的数据，当一个Follower挂掉回复以后，会接受Leader的日志同步。</p><p>3、当Leader挂掉以后，然后经过一定的心跳时间都没有回复的话，会进行新的选举，选出的新leader的任期要加1.</p><p>4、如果挂掉的Leader在选举期间的拉票请求广播被其他Candidate收到的时候，先检查任期，比当前任期小的Candidate一律不投票。</p><p>问题</p><p>1、脑裂问题，如果出现物理的网络分区现象，Leader存在的分区如果还是多数票则不会重新选举。新分区节点大于2会进行Leader选举。因此出现双Leader。但新分区的Leader的任期会比原Leader新，所以当网络恢复的时候，原Leader发现新的Leader的任期比自己新，会降级为Follower重新同步数据。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;一、强一致性&quot;&gt;&lt;a href=&quot;#一、强一致性&quot; class=&quot;headerlink&quot; title=&quot;一、强一致性&quot;&gt;&lt;/a&gt;一、强一致性&lt;/h3&gt;&lt;p&gt;R+W&amp;gt;N，建设有3个节点，每次读时，读2个节点并且数据一致；写时，写2个节点都成功才算写成功。这种是
      
    
    </summary>
    
      <category term="架构" scheme="http://superdjm.github.io/categories/%E6%9E%B6%E6%9E%84/"/>
    
    
  </entry>
  
  <entry>
    <title>Mysql 扩展字段的设计</title>
    <link href="http://superdjm.github.io/2016/08/25/mysql-e6-89-a9-e5-b1-95-e5-ad-97-e6-ae-b5-e7-9a-84-e8-ae-be-e8-ae-a1/"/>
    <id>http://superdjm.github.io/2016/08/25/mysql-e6-89-a9-e5-b1-95-e5-ad-97-e6-ae-b5-e7-9a-84-e8-ae-be-e8-ae-a1/</id>
    <published>2016-08-25T03:19:14.000Z</published>
    <updated>2017-12-19T16:15:06.960Z</updated>
    
    <content type="html"><![CDATA[<div>如果有大量的内容不好新建一个固定的字段，那我们可以采用扩展字段的方式来增加扩展性。</div><br><div></div><br><div>一般我们存储大量kv字符串会采用序列化例如“123||345||567”。</div><br><div></div><br><div>但是我们可以修改一下存储的形式，“||123||345||567||”</div><br><div></div><br><div>缺点：序列化后需要在两边补上分隔符，反序列化需要先删除两边的分隔符。（程序级别）</div><br><div></div><br><div>优点：可以方便like操作 ，例如我要获取扩展字段含有345的项。可以使用like %||345||%。（sql检索级别）</div>]]></content>
    
    <summary type="html">
    
      
      
        &lt;div&gt;如果有大量的内容不好新建一个固定的字段，那我们可以采用扩展字段的方式来增加扩展性。&lt;/div&gt;&lt;br&gt;&lt;div&gt;&lt;/div&gt;&lt;br&gt;&lt;div&gt;一般我们存储大量kv字符串会采用序列化例如“123||345||567”。&lt;/div&gt;&lt;br&gt;&lt;div&gt;&lt;/div&gt;&lt;br&gt;&lt;d
      
    
    </summary>
    
      <category term="mysql" scheme="http://superdjm.github.io/categories/mysql/"/>
    
    
  </entry>
  
  <entry>
    <title>Redis各种数据类型的使用场景</title>
    <link href="http://superdjm.github.io/2016/08/18/redis-e5-90-84-e7-a7-8d-e6-95-b0-e6-8d-ae-e7-b1-bb-e5-9e-8b-e7-9a-84-e4-bd-bf-e7-94-a8-e5-9c-ba-e6-99-af/"/>
    <id>http://superdjm.github.io/2016/08/18/redis-e5-90-84-e7-a7-8d-e6-95-b0-e6-8d-ae-e7-b1-bb-e5-9e-8b-e7-9a-84-e4-bd-bf-e7-94-a8-e5-9c-ba-e6-99-af/</id>
    <published>2016-08-18T09:35:28.000Z</published>
    <updated>2017-12-19T16:15:06.960Z</updated>
    
    <content type="html"><![CDATA[<p>既然题目的是数据类型的使用场景。所以一些基本概念我就不说了。</p><h2 id="一、String"><a href="#一、String" class="headerlink" title="一、String"></a>一、String</h2><p>&nbsp;</p><p>1、利用INCR命令簇（<a href="http://redis.io/commands/incr" target="_blank" rel="noopener">INCR</a>, <a href="http://redis.io/commands/decr" target="_blank" rel="noopener">DECR</a>, <a href="http://redis.io/commands/incrby" target="_blank" rel="noopener">INCRBY</a>）来把字符串当作原子计数器使用。</p><p>2、使用<a href="http://redis.io/commands/append" target="_blank" rel="noopener">APPEND</a>命令在字符串后添加内容。</p><p>3、将字符串作为<a href="http://redis.io/commands/getrange" target="_blank" rel="noopener">GETRANGE</a> 和 <a href="http://redis.io/commands/setrange" target="_blank" rel="noopener">SETRANGE</a>的随机访问向量。</p><p>4、在小空间里编码大量数据，或者使用 <a href="http://redis.io/commands/getbit" target="_blank" rel="noopener">GETBIT</a> 和 <a href="http://redis.io/commands/setbit" target="_blank" rel="noopener">SETBIT</a>创建一个Redis支持的Bloom过滤器。</p><p>5、键值不宜过长，耗内存、查找成本高。</p><h2 id="二、List"><a href="#二、List" class="headerlink" title="二、List"></a>二、List</h2><p>1、Redis的List采用linked list实现。在头部或尾部插入效率为常数级别。</p><p>2、可以采用<a href="http://redis.io/commands/lpush" target="_blank" rel="noopener">lpush</a>、<a href="http://redis.io/commands/rpop" target="_blank" rel="noopener">rpop</a>实现一个简单的消息队列，用<a href="http://redis.io/commands/rpoplpush" target="_blank" rel="noopener">rpoplpush</a>命令把要出队的元素放入处理队列队尾，直到确认完成后，用lrem移除。</p><p>3、如果rpoplush的source和destination都是同一队列，此时便是旋转队列操作，可以模拟循环队列，用于多个客户端并行处理消息。</p><p>4、使用lpush与<a href="http://redis.io/commands/ltrim" target="_blank" rel="noopener">ltrim</a>保持列表长度，可以用于热点数据的保存。</p><p>5、博客的评论可以按发表时间进入列表，使用<a href="http://redis.io/commands/lrange" target="_blank" rel="noopener">lrange</a>进行分页。</p><p>6、使用lpop的阻塞版本<a href="http://redis.io/commands/blpop" target="_blank" rel="noopener">blpop</a>，可以防止客户端轮询消耗server的cpu资源。</p><h2 id="三、Hash"><a href="#三、Hash" class="headerlink" title="三、Hash"></a>三、Hash</h2><p>1、Redis的hash用作kv存储时，内存占用优于memcached的kv。</p><p>2、可以存储游戏的人物的属性，例如user:1000 nickname jack age 21</p><h2 id="四、Set"><a href="#四、Set" class="headerlink" title="四、Set"></a>四、Set</h2><p>1、由于Redis的set是没有重复元素的，所以可以用于元素的排重。</p><p>2、使用<a href="http://redis.io/commands/sinter" target="_blank" rel="noopener">sinter</a>求集合的交集，可以用于博客文章标签库的设计。</p><p>eg :   tag1 1 2 5  tag2 2 4 6 tag3 2 6 7 //三个标签存储着属于该标签的博客id</p><p>sinter tag1 tag2 tag3</p><p>2 //最后得到同时拥有三个标签的博客id</p><p>3、使用<a href="http://redis.io/commands/sunionstore" target="_blank" rel="noopener">sunionstore</a>可以快速的copy一个set。</p><p>4、使用spop可以随机pop出一个元素，用于设计需要产生随机数的系统，例如扑克牌游戏。如果不想元素出集合，使用<a href="http://redis.io/commands/srandmember" target="_blank" rel="noopener">srandmember</a>可以仅仅返回元素（随机）。此时返回的元素可能是重复的。</p><h2 id="五、Softed-set"><a href="#五、Softed-set" class="headerlink" title="五、Softed set"></a>五、Softed set</h2><p>1、内部的实现为跳跃表和hash表，所以添加元素的时间复杂度为O(log(n)).</p><p>2、可以用于排名榜系统，用<a href="http://redis.io/commands/zrange" target="_blank" rel="noopener">zrange</a>获取前n名的names，然后用<a href="http://redis.io/commands/zrank" target="_blank" rel="noopener">zrank</a> name获得排名。</p><p>3、使用<a href="http://redis.io/commands/zrangebyscore" target="_blank" rel="noopener">zrangebyscore</a>、<a href="http://redis.io/commands/zremrangebyscore" target="_blank" rel="noopener">zremrangebyscore</a>可以检索或移除指定区间内的元素。</p><h2 id="六、bitmap"><a href="#六、bitmap" class="headerlink" title="六、bitmap"></a>六、bitmap</h2><p>1、底层使用string来实现。大大地提高了利用效率，1byte=8bit。原本只能存512Mbyte的string现在能放2^32个bit。</p><p>2、bitcount可以用于大数据的区间计算。例如计算一天最长的访客区间，从00:00开始，每一个unix时间取偏移值<a href="http://redis.io/commands/setbit" target="_blank" rel="noopener">setbit</a>，最后<a href="http://redis.io/commands/bitcount" target="_blank" rel="noopener">bitcount</a>。</p><p>3、用于大数据的实时分析。</p><h2 id="七、HyperLogLogs"><a href="#七、HyperLogLogs" class="headerlink" title="七、HyperLogLogs"></a>七、HyperLogLogs</h2><p>1、用于大数据的允许误差的基数运算，用set实现的区别为，HyperLogLogs并不会储存具体的元素，不管元素有多少，最坏情况下只需12kbyte就能完成运算，误差为1%。例如用户每天的搜索量。</p><h2 id="八、参考"><a href="#八、参考" class="headerlink" title="八、参考"></a>八、参考</h2><p>【1】<a href="http://redis.io/topics/data-types-intro" target="_blank" rel="noopener">data-types-intro</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;既然题目的是数据类型的使用场景。所以一些基本概念我就不说了。&lt;/p&gt;
&lt;h2 id=&quot;一、String&quot;&gt;&lt;a href=&quot;#一、String&quot; class=&quot;headerlink&quot; title=&quot;一、String&quot;&gt;&lt;/a&gt;一、String&lt;/h2&gt;&lt;p&gt;&amp;nbsp;&lt;/
      
    
    </summary>
    
      <category term="nosql" scheme="http://superdjm.github.io/categories/nosql/"/>
    
      <category term="杂记" scheme="http://superdjm.github.io/categories/nosql/%E6%9D%82%E8%AE%B0/"/>
    
    
  </entry>
  
  <entry>
    <title>Redis-vs-Memcached-vs-MongoDB</title>
    <link href="http://superdjm.github.io/2016/08/16/redis-vs-memcached-vs-mongodb/"/>
    <id>http://superdjm.github.io/2016/08/16/redis-vs-memcached-vs-mongodb/</id>
    <published>2016-08-16T07:48:24.000Z</published>
    <updated>2017-12-19T16:15:06.960Z</updated>
    
    <content type="html"><![CDATA[<h2 id="一、前言"><a href="#一、前言" class="headerlink" title="一、前言"></a>一、前言</h2><p>redis、memcached、mongodb这个三个系统现在使用广泛。做一个后端工程师对他们必然要有一定的认识，下面我翻译了一个图表进行简单说明。</p><h2 id="二、正文"><a href="#二、正文" class="headerlink" title="二、正文"></a>二、正文</h2><table width="100%"><br><tbody><br><tr><br><td class="attribute">名称</td><br><td class="header">Memcached</td><br><td class="header">MongoDB</td><br><td class="header">Redis</td><br></tr><br><tr><br><td class="attribute">简述</td><br><td class="value">全内存的kv存储, 最初设计用于缓存</td><br><td class="value">最流行的文档型数据库</td><br><td class="value">全内存的结构数据存储，可用于数据库，缓存，消息代理。<br><br>Redis专注于性能，所以它的很多设计都把高性能、低延迟放在第一位。</td><br></tr><br><tr><br><td class="attribute">数据库模型</td><br><td class="value">k-v 存储</td><br><td class="value">文档型数据库</td><br><td class="value">k-v存储<br><br>众多的数据类型、丰富的操作集、可配置的数据过期时间，历史数据回收和数据持久</td><br></tr><br><tr><br><td class="attribute"></td><br><td class="value"></td><br><td class="value"></td><br><td class="value"></td><br></tr><br><tr><br><td class="attribute">官网</td><br><td class="value"><a href="http://www.memcached.org/" target="_blank" rel="noopener">www.memcached.org</a></td><br><td class="value"><a href="http://www.mongodb.org/" target="_blank" rel="noopener">www.mongodb.org</a></td><br><td class="value"><a href="http://redis.io/" target="_blank" rel="noopener">redis.io</a></td><br></tr><br><tr><br><td class="attribute">技术文档</td><br><td class="value"><a href="https://github.com/memcached/memcached/wiki" target="_blank" rel="noopener">github.com/­memcached/­memcached/­wiki</a></td><br><td class="value"><a href="http://docs.mongodb.org/manual/" target="_blank" rel="noopener">docs.mongodb.org/­manual</a></td><br><td class="value"><a href="http://redis.io/documentation" target="_blank" rel="noopener">redis.io/­documentation</a></td><br></tr><br><tr><br><td class="attribute">开发者</td><br><td class="value">Danga Interactive</td><br><td class="value">MongoDB, Inc</td><br><td class="value">Salvatore Sanfilippo</td><br></tr><br><tr><br><td class="attribute">初次发布</td><br><td class="value">2003</td><br><td class="value">2009</td><br><td class="value">2009</td><br></tr><br><tr><br><td class="attribute">最新发行版</td><br><td class="value">1.4.29, July 2016</td><br><td class="value">3.2.8, July 2016</td><br><td class="value">3.2.3, August 2016</td><br></tr><br><tr><br><td class="attribute">证书</td><br><td class="value">BSD开源协议</td><br><td class="value">AGPL 第三版开源协议， 提供商业版证书</td><br><td class="value">BSD 3-条款，提供商业版证书</td><br></tr><br><tr><br><td class="attribute">数据库服务</td><br><td class="value">不提供</td><br><td class="value">不提供</td><br><td class="value">不提供</td><br></tr><br><tr><br><td class="attribute">实现语言</td><br><td class="value">C</td><br><td class="value">C++</td><br><td class="value">C</td><br></tr><br><tr><br><td class="attribute">支持的服务器端os</td><br><td class="value">FreeBSD<br>Linux<br>OS X<br>Unix<br>Windows</td><br><td class="value">Linux<br>OS X<br>Solaris<br>Windows</td><br><td class="value">BSD<br>Linux<br>OS X<br>Windows</td><br></tr><br><tr><br><td class="attribute">数据模式</td><br><td class="value">schema-free</td><br><td class="value">schema-free</td><br><td class="value">schema-free</td><br></tr><br><tr><br><td class="attribute">数据类型</td><br><td class="value">没有</td><br><td class="value">string, integer, double, boolean, date, object_id</td><br><td class="value">支持的数据类型：strings, hashes, lists, sets and sorted sets, bit arrays, hyperloglogs and geospatial indexes</td><br></tr><br><tr><br><td class="attribute">XML 支持</td><br><td class="value"></td><br><td class="value"></td><br><td class="value">不</td><br></tr><br><tr><br><td class="attribute">第二索引</td><br><td class="value">不支持</td><br><td class="value">支持</td><br><td class="value">不支持</td><br></tr><br><tr><br><td class="attribute">SQL</td><br><td class="value">no</td><br><td class="value">no</td><br><td class="value">no</td><br></tr><br><tr><br><td class="attribute">APIs 和其他通信协议</td><br><td class="value">专有协议</td><br><td class="value"> 使用 JSON</td><br><td class="value">专有协议</td><br></tr><br><tr><br><td class="attribute">客户端支持的语言</td><br><td class="value">.Net<br>C<br>C++<br>ColdFusion<br>Erlang<br>Java<br>Lisp<br>Lua<br>OCaml<br>Perl<br>PHP<br>Python<br>Ruby</td><br><td class="value">Actionscript （非官方）<br>C<br>C#<br>C++<br>Clojure（非官方）<br>ColdFusion（非官方）<br>D（非官方）<br>Dart（非官方）<br>Delphi（非官方）<br>Erlang<br>Go（非官方）<br>Groovy（非官方）<br>Haskell<br>Java<br>JavaScript<br>Lisp（非官方）<br>Lua（非官方）<br>MatLab（非官方）<br>Perl<br>PHP<br>PowerShell（非官方）<br>Prolog（非官方）<br>Python<br>R（非官方）<br>Ruby<br>Scala<br>Smalltalk （非官方）</td><br><td class="value">C<br>C#<br>C++<br>Clojure<br>Crystal<br>D<br>Dart<br>Elixir<br>Erlang<br>Fancy<br>Go<br>Haskell<br>Haxe<br>Java<br>JavaScript (Node.js)<br>Lisp<br>Lua<br>MatLab<br>Objective-C<br>OCaml（非官方）<br>Perl<br>PHP<br>Prolog<br>Pure Data<br>Python<br>R<br>Rebol<br>Ruby<br>Rust<br>Scala<br>Scheme<br>Smalltalk<br>Tcl</td><br></tr><br><tr><br><td class="attribute">服务器端脚本</td><br><td class="value">不支持</td><br><td class="value">JavaScript</td><br><td class="value">Lua</td><br></tr><br><tr><br><td class="attribute">触发器</td><br><td class="value">no</td><br><td class="value">no</td><br><td class="value">no</td><br></tr><br><tr><br><td class="attribute">分区方式</td><br><td class="value">没有分区</td><br><td class="value">分片</td><br><td class="value">分片</td><br></tr><br><tr><br><td class="attribute">副本方式</td><br><td class="value">Repcached（高可用方案）</td><br><td class="value">主从复制</td><br><td class="value">主从复制</td><br></tr><br><tr><br><td class="attribute">接入MapReduce</td><br><td class="value">不支持</td><br><td class="value">支持</td><br><td class="value">不支持</td><br></tr><br><tr><br><td class="attribute">一致性</td><br><td class="value"></td><br><td class="value">最终一致、实时一致</td><br><td class="value">最终一致</td><br></tr><br><tr><br><td class="attribute">外键</td><br><td class="value">不支持</td><br><td class="value">通常不使用</td><br><td class="value">不支持</td><br></tr><br><tr><br><td class="attribute">事务</td><br><td class="value">不支持</td><br><td class="value">在同一的Document里面提供原子性</td><br><td class="value">乐观锁，命令具有原子性</td><br></tr><br><tr><br><td class="attribute">并发</td><br><td class="value">支持</td><br><td class="value">支持</td><br><td class="value">支持，数据序列化存储</td><br></tr><br><tr><br><td class="attribute">持久化</td><br><td class="value">不支持</td><br><td class="value">支持（可选）</td><br><td class="value">支持（RDB、AOF）</td><br></tr><br><tr><br><td class="attribute">数据存在内存</td><br><td class="value"> 支持</td><br><td class="value">3.2以后支持</td><br><td class="value">支持</td><br></tr><br><tr><br><td class="attribute">用户鉴权</td><br><td class="value">使用 SASL (Simple Authentication and Security Layer) 协议</td><br><td class="value">基于角色的权限控制RBAC（Roles-based  Access Control）</td><br><td class="value">基于用户密码的认证，商业版支持ssl和访问控制</td><br></tr><br><tr><br><td class="headline" colspan="99"></td><br></tr><br></tbody><br></table><h2 id="三、小结"><a href="#三、小结" class="headerlink" title="三、小结"></a>三、小结</h2><p>通过上面表格应该大致了解三个系统的大致区别，不过这只是皮毛，以后我会去更多去探讨他们在一致性，副本、持久化方面的实现来进一步了解他们的设计理念。</p><h2 id="四、摘录"><a href="#四、摘录" class="headerlink" title="四、摘录"></a>四、摘录</h2><p>【1】<a href="http://db-engines.com/en/system/Memcached%3BMongoDB%3BRedis" target="_blank" rel="noopener">System Properties Comparison Memcached vs. MongoDB vs. Redis</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;一、前言&quot;&gt;&lt;a href=&quot;#一、前言&quot; class=&quot;headerlink&quot; title=&quot;一、前言&quot;&gt;&lt;/a&gt;一、前言&lt;/h2&gt;&lt;p&gt;redis、memcached、mongodb这个三个系统现在使用广泛。做一个后端工程师对他们必然要有一定的认识，下面我翻译
      
    
    </summary>
    
      <category term="nosql" scheme="http://superdjm.github.io/categories/nosql/"/>
    
    
  </entry>
  
  <entry>
    <title>一致性Hash算法</title>
    <link href="http://superdjm.github.io/2016/07/28/e4-b8-80-e8-87-b4-e6-80-a7hash-e7-ae-97-e6-b3-95/"/>
    <id>http://superdjm.github.io/2016/07/28/e4-b8-80-e8-87-b4-e6-80-a7hash-e7-ae-97-e6-b3-95/</id>
    <published>2016-07-28T07:34:52.000Z</published>
    <updated>2017-12-19T16:15:06.960Z</updated>
    
    <content type="html"><![CDATA[<h2 id="为什么我们需要一致性Hash"><a href="#为什么我们需要一致性Hash" class="headerlink" title="为什么我们需要一致性Hash"></a>为什么我们需要一致性Hash</h2><p>一致性哈希算法在1997年由麻省理工学院的Karger等人在解决分布式Cache中提出的，设计目标是为了解决因特网中的热点(Hot spot)问题，初衷和CARP十分类似。一致性哈希修正了CARP使用的简单哈希算法带来的问题，使得DHT可以在P2P环境中真正得到应用。</p><p>简单hash算法普遍采用：</p><pre id="pre997879" class="notranslate" lang="text">hash(o) mod n</pre>但是当中间的一个节点挂掉时，我们的hash算法就变成下面这样<pre id="pre796057" class="notranslate" lang="text">hash(o) mod (n+1)</pre>增加节点也是一样。<pre id="pre796057" class="notranslate" lang="text">hash(o) mod (n-1)</pre>由此可见，大量的请求将会偏移到新的机器。这会导致大量的缓存失效。一致性hash的出现就是为了解决这个问题而出现的。它保证当机器出现增删的时候，受影响的对象要尽可能地少。## Hash环通常，hash函数把一个值映射成一个32位的键值，现在我们把0到2的32次方－1的值映射到一个环上面去，2^32-1下一个值就是0。如下图![hash环](http://www.codeproject.com/KB/recipes/lib-conhash/circle.JPG)## 把对象映射到hash环里面现在我们有4个对象Object1-Object4，使用hash函数获得hash值映射到hash环里面。如下图。![对象映射到hash环](http://www.codeproject.com/KB/recipes/lib-conhash/object.JPG)    hash(object1) = key1;    .....    hash(object4) = key4;`<pre><code>## 把缓存机器映射进Hash环使用相同的hash函数把cacheABC加进hash环。如下图。&lt;pre class=&quot;pure-highlightjs&quot;&gt;`hash(cache A) = key A;....hash(cache C) = key C;</code></pre><p>&nbsp;</p><p><img src="http://www.codeproject.com/KB/recipes/lib-conhash/cache.JPG" alt="把cache加入hash环"></p><h2 id="对象与Cache的映射"><a href="#对象与Cache的映射" class="headerlink" title="对象与Cache的映射"></a>对象与Cache的映射</h2><p>以上图为例，key1往顺时针方向移动，最后key1对应cacheA。key2、key3一起对应cache3.</p><h2 id="增加或者剔除Cache"><a href="#增加或者剔除Cache" class="headerlink" title="增加或者剔除Cache"></a>增加或者剔除Cache</h2><p>当cacheB挂掉的情况下 ，原本缓存在cacheB的object4无法命中，顺时针重新缓存在cacheC。</p><p><img src="http://www.codeproject.com/KB/recipes/lib-conhash/remove.JPG" alt=""></p><p>当增加一台cacheD的情况下，原本缓存在cacheC的object2重新缓存到cacheD上。</p><p><img src="http://www.codeproject.com/KB/recipes/lib-conhash/add.JPG" alt=""></p><h2 id="虚拟节点"><a href="#虚拟节点" class="headerlink" title="虚拟节点"></a>虚拟节点</h2><p>如果节点较少的情况下，当一个节点的变动会导致大量的对象落到另外一个节点上，导致负载不均，为了解决这个问题。我们提出了虚拟节点的概念。</p><p>我们现在拥有两个cache，每一个cache拥有一个副本，每次增加或删除节点，我们都增加或对应多的节点副本。如下图。</p><p><img src="http://www.codeproject.com/KB/recipes/lib-conhash/virtual.JPG" alt=""></p><p>我们有了一下的对应关系</p><p><pre id="pre846957" class="notranslate" lang="text">objec1-&gt;cache A2; objec2-&gt;cache A1; objec3-&gt;cache C1; objec4-&gt;cache C2</pre><br>那么object怎么通过虚拟节点找到实际节点的。如下图。</p><p><img src="http://www.codeproject.com/KB/recipes/lib-conhash/map.JPG" alt=""></p><p>有了虚拟节点，我们的hash算法的平衡性就增加了。</p><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p>1、Consistent-hashing ： <a href="http://www.codeproject.com/Articles/56138/Consistent-hashing" target="_blank" rel="noopener">http://www.codeproject.com/Articles/56138/Consistent-hashing</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;为什么我们需要一致性Hash&quot;&gt;&lt;a href=&quot;#为什么我们需要一致性Hash&quot; class=&quot;headerlink&quot; title=&quot;为什么我们需要一致性Hash&quot;&gt;&lt;/a&gt;为什么我们需要一致性Hash&lt;/h2&gt;&lt;p&gt;一致性哈希算法在1997年由麻省理工学院的K
      
    
    </summary>
    
      <category term="架构" scheme="http://superdjm.github.io/categories/%E6%9E%B6%E6%9E%84/"/>
    
    
  </entry>
  
  <entry>
    <title>用explain命令分析mysql性能</title>
    <link href="http://superdjm.github.io/2016/07/28/e7-94-a8explain-e5-91-bd-e4-bb-a4-e5-88-86-e6-9e-90mysql-e6-80-a7-e8-83-bd/"/>
    <id>http://superdjm.github.io/2016/07/28/e7-94-a8explain-e5-91-bd-e4-bb-a4-e5-88-86-e6-9e-90mysql-e6-80-a7-e8-83-bd/</id>
    <published>2016-07-28T02:33:36.000Z</published>
    <updated>2017-12-19T16:15:06.960Z</updated>
    
    <content type="html"><![CDATA[<p>explain显示了mysql如何使用索引来处理select语句以及连接表。可以帮助选择更好的索引和写出更优化的查询语句。</p><p>使用方法，在select语句前加上explain就可以了：</p><p>如：</p><pre><code>explain select surname,first_name form a,b where a.id=b.id </code></pre><h2 id="EXPLAIN列的解释："><a href="#EXPLAIN列的解释：" class="headerlink" title="EXPLAIN列的解释："></a><strong>EXPLAIN列的解释：</strong></h2><p>table：显示这一行的数据是关于哪张表的</p><p>type：这是重要的列，显示连接使用了何种类型。从最好到最差的连接类型为const、eq_reg、ref、range、indexhe和ALL</p><p>possible_keys：显示可能应用在这张表中的索引。如果为空，没有可能的索引。可以为相关的域从WHERE语句中选择一个合适的语句</p><p>key： 实际使用的索引。如果为NULL，则没有使用索引。很少的情况下，MYSQL会选择优化不足的索引。这种情况下，可以在SELECT语句中使用USE INDEX（indexname）来强制使用一个索引或者用IGNORE INDEX（indexname）来强制MYSQL忽略索引</p><p>key_len：使用的索引的长度。在不损失精确性的情况下，长度越短越好</p><p>ref：显示索引的哪一列被使用了，如果可能的话，是一个常数</p><p>rows：MYSQL认为必须检查的用来返回请求数据的行数</p><p>Extra：关于MYSQL如何解析查询的额外信息。将在表4.3中讨论，但这里可以看到的坏的例子是Using temporary和Using filesort，意思MYSQL根本不能使用索引，结果是检索会很慢</p><h2 id="extra列返回的描述的意义"><a href="#extra列返回的描述的意义" class="headerlink" title="extra列返回的描述的意义"></a><strong>extra列返回的描述的意义</strong></h2><p>Distinct:一旦MYSQL找到了与行相联合匹配的行，就不再搜索了</p><p>Not exists: MYSQL优化了LEFT JOIN，一旦它找到了匹配LEFT JOIN标准的行，就不再搜索了</p><p>Range checked for each Record（index map:#）:没有找到理想的索引，因此对于从前面表中来的每一个行组合，MYSQL检查使用哪个索引，并用它来从表中返回行。这是使用索引的最慢的连接之一</p><p>Using filesort: 看到这个的时候，查询就需要优化了。MYSQL需要进行额外的步骤来发现如何对返回的行排序。它根据连接类型以及存储排序键值和匹配条件的全部行的行指针来排序全部行</p><p>Using index: 列数据是从仅仅使用了索引中的信息而没有读取实际的行动的表返回的，这发生在对表的全部的请求列都是同一个索引的部分的时候</p><p>Using temporary 看到这个的时候，查询需要优化了。这里，MYSQL需要创建一个临时表来存储结果，这通常发生在对不同的列集进行ORDER BY上，而不是GROUP BY上</p><p>Where used 使用了WHERE从句来限制哪些行将与下一张表匹配或者是返回给用户。如果不想返回表中的全部行，并且连接类型ALL或index，这就会发生，或者是查询有问题不同连接类型的解释（按照效率高低的顺序排序）</p><p>system 表只有一行：system表。这是const连接类型的特殊情况</p><p>const:表中的一个记录的最大值能够匹配这个查询（索引可以是主键或惟一索引）。因为只有一行，这个值实际就是常数，因为MYSQL先读这个值然后把它当做常数来对待</p><p>eq_ref:在连接中，MYSQL在查询时，从前面的表中，对每一个记录的联合都从表中读取一个记录，它在查询使用了索引为主键或惟一键的全部时使用</p><p>ref:这个连接类型只有在查询使用了不是惟一或主键的键或者是这些类型的部分（比如，利用最左边前缀）时发生。对于之前的表的每一个行联合，全部记录都将从表中读出。这个类型严重依赖于根据索引匹配的记录多少—越少越好</p><p>range:这个连接类型使用索引返回一个范围中的行，比如使用&gt;或&lt;查找东西时发生的情况</p><p>index: 这个连接类型对前面的表中的每一个记录联合进行完全扫描（比ALL更好，因为索引一般小于表数据）</p><p>ALL:这个连接类型对于前面的每一个记录联合进行完全扫描，这一般比较糟糕，应该尽量避免</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;explain显示了mysql如何使用索引来处理select语句以及连接表。可以帮助选择更好的索引和写出更优化的查询语句。&lt;/p&gt;
&lt;p&gt;使用方法，在select语句前加上explain就可以了：&lt;/p&gt;
&lt;p&gt;如：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;explain selec
      
    
    </summary>
    
      <category term="mysql" scheme="http://superdjm.github.io/categories/mysql/"/>
    
    
      <category term="mysql" scheme="http://superdjm.github.io/tags/mysql/"/>
    
  </entry>
  
  <entry>
    <title>keepalive（前端高可用）初探</title>
    <link href="http://superdjm.github.io/2016/07/27/keepalive-ef-bc-88-e5-89-8d-e7-ab-af-e9-ab-98-e5-8f-af-e7-94-a8-ef-bc-89-e5-88-9d-e6-8e-a2/"/>
    <id>http://superdjm.github.io/2016/07/27/keepalive-ef-bc-88-e5-89-8d-e7-ab-af-e9-ab-98-e5-8f-af-e7-94-a8-ef-bc-89-e5-88-9d-e6-8e-a2/</id>
    <published>2016-07-27T08:14:12.000Z</published>
    <updated>2017-12-19T16:15:06.960Z</updated>
    
    <content type="html"><![CDATA[<h2 id="一、前言"><a href="#一、前言" class="headerlink" title="一、前言"></a>一、前言</h2><p>在大型网站架构中，我们常常会部署nginx、haproxy、lvs等反向代理进行负载均衡。</p><p>可是单点的nginx总是会出现故障，我们就有了keepalive、zookeeper等维护反向代理集群，实现前端高可用。</p><p>本文要用的是nginx+keepalive，nginx的负载均衡在这也不展开了。主要介绍一下keepalive的选举机制；VRRP。</p><p>虚拟路由冗余协议(Virtual Router Redundancy Protocol，简称VRRP)是由IETF提出的解决局域网中配置静态网关出现单点失效现象的路由协议</p><div class="para">VRRP的工作过程如下：</div><ol><li><div class="para">路由器开启VRRP功能后，会根据优先级确定自己在备份组中的角色。优先级高的路由器成为主用路由器，优先级低的成为备用路由器。主用路由器定期发送VRRP通告报文，通知备份组内的其他路由器自己工作正常；备用路由器则启动定时器等待通告报文的到来。</div></li><li><div class="para">VRRP在不同的主用抢占方式下，主用角色的替换方式不同：</div><br><div class="para">l在抢占方式下，当主用路由器收到VRRP通告报文后，会将自己的优先级与通告报文中的优先级进行比较。如果大于通告报文中的优先级，则成为主用路由器；否则将保持备用状态。</div><br><div class="para">l在非抢占方式下，只要主用路由器没有出现故障，备份组中的路由器始终保持主用或备用状态，备份组中的路由器即使随后被配置了更高的优先级也不会成为主用路由器。</div></li><li><div class="para">如果备用路由器的定时器超时后仍未收到主用路由器发送来的VRRP通告报文，则认为主用路由器已经无法正常工作，此时备用路由器会认为自己是主用路由器，并对外发送VRRP通告报文。备份组内的路由器根据优先级选举出主用路由器，承担报文的转发功能</div><br>我们下面就来实战一下。</li></ol><h2 id="二、正文"><a href="#二、正文" class="headerlink" title="二、正文"></a>二、正文</h2><h3 id="一、安装keepalive"><a href="#一、安装keepalive" class="headerlink" title="一、安装keepalive"></a>一、安装keepalive</h3><p>使用包管理工具yum或者apt来获取keepalive，或者可以上网下载源码包，自己make编译。这里就不贴出来了。</p><h3 id="二、配置"><a href="#二、配置" class="headerlink" title="二、配置"></a>二、配置</h3><p>因为主备的配置都大同小异，所以注意以下的不同之处即可。</p><p>/etc/keepalived/keepalived.conf</p><pre><code>! Configuration File for keepalivedglobal_defs {    #这一部分配置报警的通知邮箱    notification_email {        #zhouxiao@example.com        #itsection@example.com    }    #notification_email_from itsection@example.com    #smtp_server mail.example.com    #smtp_connect_timeout 30    #名字    router_id NGINX_DEVEL}#进行心跳脚本的配置vrrp_script chk_nginx {#    script &quot;killall -0 nginx&quot;    script &quot;/etc/keepalived/check_nginx.sh&quot;    interval 2    weight -5    fall 3    rise 2}vrrp_instance VI_1 {    #配置主从机，MASTER为主，BACKUP为从。    state BACKUP    #要监控的接口    interface eth0#    mcast_src_ip 172.17.0.7    #id，所有主备机要保持一致    virtual_router_id 51    #选举时成为主机的优先级，配置时每台主备机要配置不一样的值    priority 100    #组播信息发送间隔，保持一致    advert_int 2    #VRRP的鉴权，所有主备机要保持一致    authentication {        auth_type PASS        auth_pass 1111       }    #要绑定的虚拟vip，所有主备机要保持一致    virtual_ipaddress {        172.17.0.6    }    #对应上面的脚本的配置    track_script {       chk_nginx    }}`&lt;/pre&gt;心跳脚本/etc/keepalived/check_nginx.sh&lt;pre class=&quot;pure-highlightjs&quot;&gt;`#!/bin/bash#检测nginx的进程数，如果为0，休眠两秒不能恢复，主动停止keepalive进程。counter=$(ps -C nginx --no-heading|wc -l)if [ &quot;${counter}&quot; = &quot;0&quot; ]; then    /usr/local/bin/nginx    sleep 2    counter=$(ps -C nginx --no-heading|wc -l)    if [ &quot;${counter}&quot; = &quot;0&quot; ]; then        /etc/init.d/keepalived stop    fifi`&lt;/pre&gt;&amp;nbsp;配置就到此结束。### 三、结果观察开启keepalive服务。&lt;pre class=&quot;pure-highlightjs&quot;&gt;`root@c56be86de341:~#``keepalive -Droot@c56be86de341:~# ip addr1: lo: &amp;lt;LOOPBACK,UP,LOWER_UP&amp;gt; mtu 65536 qdisc noqueue state UNKNOWN group default link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 inet 127.0.0.1/8 scope host lo valid_lft forever preferred_lft forever inet6 ::1/128 scope host valid_lft forever preferred_lft forever9: eth0: &amp;lt;BROADCAST,UP,LOWER_UP&amp;gt; mtu 1500 qdisc noqueue state UP group default link/ether 02:42:ac:11:00:04 brd ff:ff:ff:ff:ff:ff inet 172.17.0.4/16 scope global eth0 valid_lft forever preferred_lft forever inet &lt;span style=&quot;color: #ff0000;&quot;&gt;172.17.0.6&lt;/span&gt;/32 scope global eth0 valid_lft forever preferred_lft forever inet6 fe80::42:acff:fe11:4/64 scope link valid_lft forever preferred_lft forever`&lt;/pre&gt;主（172.17.0.4）已经成功绑定vip。ping通。&lt;pre class=&quot;pure-highlightjs&quot;&gt;`vagrant@supin:~$ ping 172.17.0.6PING 172.17.0.6 (172.17.0.6) 56(84) bytes of data.64 bytes from 172.17.0.6: icmp_seq=1 ttl=64 time=0.057 ms64 bytes from 172.17.0.6: icmp_seq=2 ttl=64 time=0.035 ms64 bytes from 172.17.0.6: icmp_seq=3 ttl=64 time=0.046 ms64 bytes from 172.17.0.6: icmp_seq=4 ttl=64 time=0.035 ms64 bytes from 172.17.0.6: icmp_seq=5 ttl=64 time=0.041 ms^C--- 172.17.0.6 ping statistics ---5 packets transmitted, 5 received, 0% packet loss, time 3999msrtt min/avg/max/mdev = 0.035/0.042/0.057/0.011 ms`&lt;/pre&gt;kill掉主机的keepalive。查看备机的ip状态。vip已经成功漂移到备机（172.17.0.9）。&lt;pre class=&quot;pure-highlightjs&quot;&gt;`root@778a812a82b0:~# ip addr1: lo: &amp;lt;LOOPBACK,UP,LOWER_UP&amp;gt; mtu 65536 qdisc noqueue state UNKNOWN group default    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00    inet 127.0.0.1/8 scope host lo       valid_lft forever preferred_lft forever    inet6 ::1/128 scope host       valid_lft forever preferred_lft forever15: eth0: &amp;lt;BROADCAST,UP,LOWER_UP&amp;gt; mtu 1500 qdisc noqueue state UP group default    link/ether 02:42:ac:11:00:09 brd ff:ff:ff:ff:ff:ff    inet 172.17.0.9/16 scope global eth0       valid_lft forever preferred_lft forever    inet &lt;span style=&quot;color: #ff0000;&quot;&gt;172.17.0.6&lt;/span&gt;/32 scope global eth0       valid_lft forever preferred_lft forever    inet6 fe80::42:acff:fe11:9/64 scope link       valid_lft forever preferred_lft forever</code></pre><p>验证成功。</p><h2 id="三、小结"><a href="#三、小结" class="headerlink" title="三、小结"></a>三、小结</h2><p>上面我们搭建的是keepalive的主从模式，这样会导致永远只有一台主机处于访问状态。</p><p>还有一种模式叫双主模式，允许两台机器均处于工作状态并互相作为备份。</p><p>搭建keepalived双主模式的要素：</p><p>1、必须有两个虚拟IP, 分别绑定至两个节点上</p><p>2.、每个节点作为某个虚拟IP的主节点，并同时作为另外一个虚拟IP的备用节点。</p><p>3.、当某个节点产生故障时，两个虚拟IP自动绑定至正常节点上</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;一、前言&quot;&gt;&lt;a href=&quot;#一、前言&quot; class=&quot;headerlink&quot; title=&quot;一、前言&quot;&gt;&lt;/a&gt;一、前言&lt;/h2&gt;&lt;p&gt;在大型网站架构中，我们常常会部署nginx、haproxy、lvs等反向代理进行负载均衡。&lt;/p&gt;
&lt;p&gt;可是单点的ngin
      
    
    </summary>
    
      <category term="架构" scheme="http://superdjm.github.io/categories/%E6%9E%B6%E6%9E%84/"/>
    
    
  </entry>
  
  <entry>
    <title>Mongoose在创建Model时对Collection的命名策略</title>
    <link href="http://superdjm.github.io/2016/07/25/mongoose-e5-9c-a8-e5-88-9b-e5-bb-bamodel-e6-97-b6-e5-af-b9collection-e7-9a-84-e5-91-bd-e5-90-8d-e7-ad-96-e7-95-a5/"/>
    <id>http://superdjm.github.io/2016/07/25/mongoose-e5-9c-a8-e5-88-9b-e5-bb-bamodel-e6-97-b6-e5-af-b9collection-e7-9a-84-e5-91-bd-e5-90-8d-e7-ad-96-e7-95-a5/</id>
    <published>2016-07-25T11:56:03.000Z</published>
    <updated>2017-12-19T16:15:06.960Z</updated>
    
    <content type="html"><![CDATA[<p>最近在使用express+mongoose+jade搭建一个小小的node.js应用。</p><p>mongoose是node里面作为mongodb的orm的api层。使用mongoose的schema、model，可以很方便的以面向对象的方式对mongodb进行curd操作。</p><p>首先创建一个schema，定义你的collection。我创建的是一个follow表，里面存放着微信粉丝的一些信息。</p><p>/schema/follow.js</p><pre><code>var mongoose = require(&#39;mongoose&#39;);var Schema = mongoose.Schema;//在这定义followschema的结构var FollowSchema = new Schema({    subscribe    : { type : Number, default : 0},    nickname     : String,    openid       : String,    sex          : Number,    headimgurl   : String,    country         : String,    province     : String,    city         : String,});//在这里定义schema的静态方法FollowSchema.statics = {    findByOpenid : function (openid, cb) {        return this.            findOne({openid : openid})            .exec(cb);    }}module.exports = FollowSchema;`&lt;/pre&gt;/model/follow.js&lt;pre class=&quot;pure-highlightjs&quot;&gt;`var mongoose = require(&#39;mongoose&#39;);var FollowSchema = require(&#39;../schema/follow&#39;);//进行model的编译var Follow = mongoose.model(    &#39;Follow&#39;,    FollowSchema    );module.exports = Follow;`&lt;/pre&gt;app.js&lt;pre class=&quot;pure-highlightjs&quot;&gt;`var mongoose = require(&#39;mongoose&#39;);function connectDb() {        mongoose.connect(&#39;mongodb://localhost/test&#39;);    var db = mongoose.connection;    db.on(&#39;error&#39;, console.error.bind(console, &#39;... connection error ...&#39;));    db.once(&#39;open&#39;, function callback() {      console.info(&quot;... db open ...&quot;);    });}var _follow = new Follow({            subscribe    : data.subscribe,            nickname     : data.nickname,            openid       : data.openid,            sex          : data.sex,            headimgurl   : data.headimgurl,            country      : data.country,            province     : data.province,            city     : data.city,            });_follow.save(function(err, _follow) {    if (err) {        throw err;        }        console.log(_follow);    })</code></pre><p>通过model的save方法就完成了数据的插入。</p><p>当我用命令行连上mongo的时候，用db.follow.find()并没有找到任何项，那就奇怪了。命名起的是这个名字，怎么就找不到了。当我输入show collections的时候，出现了一个名叫follows的colloection，竟然被强制加上复数形式。。</p><p>然后我就发现了一篇很好的文章，从源码的角度对这个问题进行了解释，附上<a href="http://aiilive.blog.51cto.com/1925756/1405203" target="_blank" rel="noopener">链接</a>。</p><p>我在下面简单的概括一下，就是mongoose的作者在创建colloection的时候，会根据你定义的单词进行正则匹配，判断是可数名词还是不可数，如果是可数名词的话，再判断它的复数形式，然后替换成她们的复数形式。源码在mongoose/lib/util.js。</p><p>&nbsp;</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;最近在使用express+mongoose+jade搭建一个小小的node.js应用。&lt;/p&gt;
&lt;p&gt;mongoose是node里面作为mongodb的orm的api层。使用mongoose的schema、model，可以很方便的以面向对象的方式对mongodb进行curd
      
    
    </summary>
    
      <category term="node.js" scheme="http://superdjm.github.io/categories/node-js/"/>
    
    
  </entry>
  
  <entry>
    <title>node.js 热部署（监听文件修改自动重启node服务）</title>
    <link href="http://superdjm.github.io/2016/07/25/node-js-e7-83-ad-e9-83-a8-e7-bd-b2-ef-bc-88-e7-9b-91-e5-90-ac-e6-96-87-e4-bb-b6-e4-bf-ae-e6-94-b9-e8-87-aa-e5-8a-a8-e9-87-8d-e5-90-afnode-e6-9c-8d-e5-8a-a1-ef-bc-89/"/>
    <id>http://superdjm.github.io/2016/07/25/node-js-e7-83-ad-e9-83-a8-e7-bd-b2-ef-bc-88-e7-9b-91-e5-90-ac-e6-96-87-e4-bb-b6-e4-bf-ae-e6-94-b9-e8-87-aa-e5-8a-a8-e9-87-8d-e5-90-afnode-e6-9c-8d-e5-8a-a1-ef-bc-89/</id>
    <published>2016-07-25T10:01:18.000Z</published>
    <updated>2017-12-19T16:15:06.960Z</updated>
    
    <content type="html"><![CDATA[<h2 id="一、前言"><a href="#一、前言" class="headerlink" title="一、前言"></a>一、前言</h2><p>在写php的时候，代码更改，也不用去重启我们的webServer，想dump个什么东西，在线上都能做。</p><p>刚接触node，每一次更改代码都要重启node服务。大大降低了工作效率。</p><p>这是因为 Node.js 只有在第一次引用到某部份时才会去解析脚本文件，以后都会直接访问内存，避免重复载入，而 PHP 则总是重新读取并解析脚本(如果没有专门的优化配置)。Node.js的这种设计虽然有利于提高性能，却不利于开发调试，因为我们在开发过程中总是希望修改后立即看到效果，而不是每次都要终止进程并重启。</p><p>这时若你修改了js文件，或是调试功能，或是增加功能。这时需要重新发布该服务，每次修改都需要执行以下两步：</p><p>1 control+c</p><p>2 node server.js</p><p>很不爽！因此有人开发了一个自动发布（热发布）的工具，你只需要在修改文件后保存，它就能自动替你发布，这就是所谓的热部署。就像tomcat或websphere等一些主流的web应用服务器那样保存即热部署。下面将介绍几个NodeJS中的开源热部署工具。</p><h2 id="二、工具介绍"><a href="#二、工具介绍" class="headerlink" title="二、工具介绍"></a>二、工具介绍</h2><h3 id="一、supervisor"><a href="#一、supervisor" class="headerlink" title="一、supervisor"></a>一、supervisor</h3><p>跟docker的进程管理工具名字一样有木有。</p><pre><code>Node Supervisor is used to restart programs when they crash.It can also be used to restart programs when a *.js file changes.`&lt;/pre&gt;supervisor是用于node进程崩溃时重启node，它也可以用于监听后缀为js文件的改变而重启node。&lt;pre class=&quot;pure-highlightjs&quot;&gt;`//全局安装supervisornpm install -g supervisor//执行命令supervisor server.js`&lt;/pre&gt;然后我们就可以愉快地更改代码了。不过这个工具有一个特点。当你的代码不能启动的时候，你的console台就会不断刷出报错的信息，因为他失败重试启动node服务的间隔很短，且没有错误次数累计。有一个比较重要的参数，可以设置什么时候不重启node。&lt;pre&gt;`-n|--no-restart-on error|exit|success    Don&#39;t automatically restart the supervised program if it ends.    Supervisor will wait for a change in the source files.    If &quot;error&quot;, an exit code of 0 will still restart.    If &quot;exit&quot;, no restart regardless of exit code.    If &quot;success&quot;, no restart only if exit code is 0.`&lt;/pre&gt;### 二、hotnode这个工具与supervisor的用法是一样的。然后它会在重启时打出一条日志说明是哪几个文件产生了修改。### 三、forevergithub地址： [https://github.com/nodejitsu/forever](https://github.com/nodejitsu/forever)forever是一个简单的命令式nodejs的守护进程，能够启动，停止，重启App应用。forever完全基于命令行操作，在forever进程之下，创建node的子进程，通过monitor监控node子进程的运行情况，一旦文件更新或进程挂掉，forever会自动重启node服务器，确保应用正常运行。&lt;pre&gt;`//全局安装npm install forever -g //启动       forever start app.js //关闭         forever stop app.js           //输出日志和错误forever start -l forever.log -o out.log -e err.log app.js//自动监控文件变化，文件修改保存之后自动重启app.js      forever -w app.js  //查看帮助           forever -h   `&lt;/pre&gt;前面的supervisor和hotnode都有一个严重的问题，无论是用nohup或者在命令最后加上&amp;amp;也不能保持后台持续运行，一旦ssh断开了，程序也就关闭了。亲测forever很好用，既能keeplive也可以热部署。### 四、pm2（支持node集群）github地址：[https://github.com/Unitech/pm2](https://github.com/Unitech/pm2)告别node-forever，拥抱pm2: [http://se77en.cc/2013/06/27/goodbye-node-forever-hello-pm2-translation/](http://se77en.cc/2013/06/27/goodbye-node-forever-hello-pm2-translation/)&lt;pre&gt;`npm install -g pm2pm2 start app.js -i max //启动一个使用所有CPU核心的集群pm2 list  //列出所有pm2开启的进程pm2 monitpm2 logs //打印日志`&lt;/pre&gt;看上去很强大，没有用过。mark。### 五、grunt今天看慕课发现使用grunt也可以达到自动部署的作用。首先安装这几个包&lt;pre class=&quot;pure-highlightjs&quot;&gt;`npm install grunt -gnpm install grunt-cli -gnpm install grunt-contrib-watch --save-devnpm install grunt-nodemon --save-devnpm install grunt-concurrent --save-dev`&lt;/pre&gt;`grunt-contrib-watch 是用于监视文件变化重启node服务的。``grunt-nodemon是用于后台运行node的。``grunt-concurrent适用于grunt插件的并行运行。`然后参考一下配置文件gruntfile.js&lt;pre class=&quot;pure-highlightjs&quot;&gt;`module.exports = function(grunt) {  grunt.initConfig({    watch: {     //监听的项目      jade: {        files: [&#39;views/**&#39;],        options: {          livereload: true        }      },      js: {        files: [&#39;public/js/**&#39;, &#39;models/**/*.js&#39;, &#39;schemas/**/*.js&#39;],        //tasks: [&#39;jshint&#39;],        options: {          livereload: true        }      }  },  nodemon: {      dev: {        options: {         //后台守护的进程          file: &#39;bin/www&#39;,          args: [],          ignoredFiles: [&#39;README.md&#39;, &#39;node_modules/**&#39;, &#39;.DS_Store&#39;],          watchedExtensions: [&#39;js&#39;],          watchedFolders: [&#39;./&#39;],          debug: true,          delayTime: 1,          env: {            PORT: 3000          },          cwd: __dirname        }      }    },    concurrent: {      tasks: [&#39;nodemon&#39;, &#39;watch&#39;],      options: {        logConcurrentOutput: true      }    }  })  grunt.loadNpmTasks(&#39;grunt-contrib-watch&#39;)  grunt.loadNpmTasks(&#39;grunt-nodemon&#39;)  grunt.loadNpmTasks(&#39;grunt-concurrent&#39;)  grunt.option(&#39;force&#39;, true)  grunt.registerTask(&#39;default&#39;, [&#39;concurrent&#39;])}</code></pre><p>最后在项目目录输入grunt。搞掂。</p><p>&nbsp;</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;一、前言&quot;&gt;&lt;a href=&quot;#一、前言&quot; class=&quot;headerlink&quot; title=&quot;一、前言&quot;&gt;&lt;/a&gt;一、前言&lt;/h2&gt;&lt;p&gt;在写php的时候，代码更改，也不用去重启我们的webServer，想dump个什么东西，在线上都能做。&lt;/p&gt;
&lt;p&gt;刚接触
      
    
    </summary>
    
      <category term="node.js" scheme="http://superdjm.github.io/categories/node-js/"/>
    
    
  </entry>
  
  <entry>
    <title>kafka初探</title>
    <link href="http://superdjm.github.io/2016/07/19/kafka-e5-88-9d-e6-8e-a2/"/>
    <id>http://superdjm.github.io/2016/07/19/kafka-e5-88-9d-e6-8e-a2/</id>
    <published>2016-07-19T07:35:26.000Z</published>
    <updated>2017-12-19T16:15:06.959Z</updated>
    
    <content type="html"><![CDATA[<h2 id="一、简介"><a href="#一、简介" class="headerlink" title="一、简介"></a>一、简介</h2><h3 id="Kafka是一种高吞吐量的分布式发布订阅消息系统。"><a href="#Kafka是一种高吞吐量的分布式发布订阅消息系统。" class="headerlink" title="Kafka是一种高吞吐量的分布式发布订阅消息系统。"></a>Kafka是一种高吞吐量的分布式发布订阅消息系统。</h3><h3 id="kafka相关术语"><a href="#kafka相关术语" class="headerlink" title="kafka相关术语"></a><strong>kafka相关术语</strong></h3><ul><li><p>Broker</p><div class="para" style="padding-left: 30px;">Kafka集群包含一个或多个服务器，这种服务器被称为broker</div></li><li><p>Topic</p><div class="para" style="padding-left: 30px;">每条发布到Kafka集群的消息都有一个类别，这个类别被称为Topic。（物理上不同Topic的消息分开存储，逻辑上一个Topic的消息虽然保存于一个或多个broker上但用户只需指定消息的Topic即可生产或消费数据而不必关心数据存于何处）</div></li><li><p>Partition</p><div class="para" style="padding-left: 30px;">Partition是物理上的概念，每个Topic包含一个或多个Partition.</div></li><li><p>Producer</p><div class="para" style="padding-left: 30px;">负责发布消息到Kafka broker</div></li><li><p>Consumer</p><div class="para" style="padding-left: 30px;">发布消息通常有两种模式：队列模式（queuing）和发布-订阅模式(publish-subscribe)。队列模式中，consumers可以同时从服务端读取消息，每个消息只被其中一个consumer读到；发布-订阅模式中消息被广播到所有的consumer中。Consumers可以加入一个consumer 组，共同竞争一个topic，topic中的消息将被分发到组中的一个成员中。同一组中的consumer可以在不同的程序中，也可以在不同的机器上。如果所有的consumer都在一个组中，这就成为了传统的队列模式，在各consumer中实现负载均衡。如果所有的consumer都不在不同的组中，这就成为了发布-订阅模式，所有的消息都被分发到所有的consumer中。更常见的是，每个topic都有若干数量的consumer组，每个组都是一个逻辑上的“订阅者”，为了容错和更好的稳定性，每个组由若干consumer组成。这其实就是一个发布-订阅模式，只不过订阅者是个组而不是单个consumer。</div></li><li><p>Consumer Group<br><div class="para" style="padding-left: 30px;">每个Consumer属于一个特定的Consumer Group（可为每个Consumer指定group name，若不指定group name则属于默认的group）。</div><br><div class="para" style="padding-left: 30px;"></div><br><div class="para" style="padding-left: 30px;"><img src="data:image/png;base64,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" alt=""></div><br><div class="para" style="padding-left: 30px;"></div><br><div class="para" style="padding-left: 30px;"><img src="data:image/png;base64,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" alt=""></div><br><div class="para" style="padding-left: 30px;"><br><div>2个kafka集群托管4个分区（P0-P3），2个消费者组，消费组A有2个消费者实例，消费组B有4个。</div><br><div></div><br><div></div></div></p><div></div></li></ul><h3 id="Kafka的保证-Guarantees"><a href="#Kafka的保证-Guarantees" class="headerlink" title="Kafka的保证(Guarantees)"></a>Kafka的保证(Guarantees)</h3><ul><li>生产者发送到一个特定的Topic的分区上的消息将会按照它们发送的顺序依次加入</li><li>消费者收到的消息也是此顺序</li><li>如果一个Topic配置了复制因子( replication facto)为N， 那么可以允许N-1服务器宕机而不丢失任何已经增加的消息<br></li></ul><h2 id="二、环境的搭建"><a href="#二、环境的搭建" class="headerlink" title="二、环境的搭建"></a>二、环境的搭建</h2><p><strong>Step 1: 下载Kafka</strong></p><p><a href="http://mirrors.cnnic.cn/apache/kafka/0.10.0.0/kafka_2.11-0.10.0.0.tgz" target="_blank" rel="noopener">点击</a>下载最新的版本并解压.</p><pre><code>tar -xzf kafka_2.11-0.10.0.0.tgzcd kafka_2.10-0.10.0.0`&lt;/pre&gt;**Step 2: 启动服务**Kafka用到了Zookeeper，所有首先启动Zookper，下面简单的启用一个单实例的Zookkeeper服务。可以在命令的结尾加个&amp;amp;符号，这样就可以启动后离开控制台。&lt;pre class=&quot;pure-highlightjs&quot;&gt;`bin/zookeeper-server-start.sh config/zookeeper.properties &amp;amp;[2013-04-22 15:01:37,495] INFO Reading configuration from: config/zookeeper.properties (org.apache.zookeeper.server.quorum.QuorumPeerConfig)`&lt;/pre&gt;&lt;div class=&quot;blockcode&quot;&gt;现在启动Kafka:&lt;/div&gt;&lt;div class=&quot;blockcode&quot;&gt;&lt;div id=&quot;code_CSP&quot;&gt;&lt;pre class=&quot;pure-highlightjs&quot;&gt;`bin/kafka-server-start.sh config/server.properties[2013-04-22 15:01:47,028] INFO Verifying properties (kafka.utils.VerifiableProperties)[2013-04-22 15:01:47,051] INFO Property socket.send.buffer.bytes is overridden to 1048576 (kafka.utils.VerifiableProperties)`&lt;/pre&gt;&lt;/div&gt;**Step 3: 创建 topic**创建一个叫做“test”的topic，它只有一个分区，一个副本。&lt;/div&gt;&lt;div class=&quot;blockcode&quot;&gt;&lt;div id=&quot;code_SyW&quot;&gt;&lt;pre class=&quot;pure-highlightjs&quot;&gt;`bin/kafka-topics.sh --create --zookeeper localhost:2181 --replication-factor 1 --partitions 1 --topic test`&lt;/pre&gt;&lt;/div&gt;可以通过list命令查看创建的topic:&lt;/div&gt;&lt;div class=&quot;blockcode&quot;&gt;&lt;div id=&quot;code_wnh&quot;&gt;&lt;/div&gt;&lt;pre class=&quot;pure-highlightjs&quot;&gt;`bin/kafka-topics.sh --list --zookeeper localhost:2181test`&lt;/pre&gt;除了手动创建topic，还可以配置broker让它自动创建topic.**Step 4:发送消息.**Kafka 使用一个简单的命令行producer，从文件中或者从标准输入中读取消息并发送到服务端。默认的每条命令将发送一条消息。运行producer并在控制台中输一些消息，这些消息将被发送到服务端：&lt;/div&gt;&lt;div class=&quot;blockcode&quot;&gt;&lt;div id=&quot;code_WBM&quot;&gt;&amp;nbsp;&lt;pre class=&quot;pure-highlightjs&quot;&gt;`bin/kafka-console-producer.sh --broker-list localhost:9092 --topic test This is a messageThis is another message`&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;ctrl+c可以退出发送。**Step 5: 启动consumer**Kafka also has a command line consumer that will dump out messages to standard output.Kafka也有一个命令行consumer可以读取消息并输出到标准输出：&lt;div class=&quot;blockcode&quot;&gt;&lt;div id=&quot;code_W2Z&quot;&gt;&lt;/div&gt;&lt;pre class=&quot;pure-highlightjs&quot;&gt;`bin/kafka-console-consumer.sh --zookeeper localhost:2181 --topic test --from-beginningThis is a messageThis is another message`&lt;/pre&gt;你在一个终端中运行consumer命令行，另一个终端中运行producer命令行，就可以在一个终端输入消息，另一个终端读取消息。这两个命令都有自己的可选参数，可以在运行的时候不加任何参数可以看到帮助信息。**Step 6: 搭建一个多个broker的集群**刚才只是启动了单个broker，现在启动有3个broker组成的集群，这些broker节点也都是在本机上的：首先为每个节点编写配置文件&lt;/div&gt;&lt;div class=&quot;blockcode&quot;&gt;&lt;div id=&quot;code_u7S&quot;&gt;&lt;pre class=&quot;pure-highlightjs&quot;&gt;`cp config/server.properties config/server-1.propertiescp config/server.properties config/server-2.properties`&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;在拷贝出的新文件中添加以下参数：&lt;div class=&quot;blockcode&quot;&gt;&lt;div id=&quot;code_apw&quot;&gt;&lt;pre class=&quot;pure-highlightjs&quot;&gt;`config/server-1.properties:    broker.id=1    port=9093    log.dir=/tmp/kafka-logs-1`config/server-2.properties:    broker.id=2    port=9094    log.dir=/tmp/kafka-logs-2&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;blockcode&quot;&gt;broker.id在集群中唯一的标注一个节点，因为在同一个机器上，所以必须制定不同的端口和日志文件，避免数据被覆盖。We already have Zookeeper and our single node started, so we just need to start the two new nodes:刚才已经启动可Zookeeper和一个节点，现在启动另外两个节点：&lt;/div&gt;&lt;div class=&quot;blockcode&quot;&gt;&lt;/div&gt;&lt;pre class=&quot;pure-highlightjs&quot;&gt;`bin/kafka-server-start.sh config/server-1.properties &amp;amp;bin/kafka-server-start.sh config/server-2.properties &amp;amp;`&lt;/pre&gt;创建一个拥有3个副本的topic:&lt;div class=&quot;blockcode&quot;&gt;&lt;div id=&quot;code_hDN&quot;&gt;&lt;pre class=&quot;pure-highlightjs&quot;&gt;`bin/kafka-topics.sh --create --zookeeper localhost:2181 --replication-factor 3 --partitions 1 --topic my-replicated-topic`&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;现在我们搭建了一个集群，怎么知道每个节点的信息呢？运行“&quot;describe topics”命令就可以了：&lt;div class=&quot;blockcode&quot;&gt;&lt;div id=&quot;code_H9p&quot;&gt;&lt;pre class=&quot;pure-highlightjs&quot;&gt;`bin/kafka-topics.sh --describe --zookeeper localhost:2181 --topic my-replicated-topic`&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;blockcode&quot;&gt;&lt;div id=&quot;code_uiM&quot;&gt;&lt;pre class=&quot;pure-highlightjs&quot;&gt;`Topic:my-replicated-topic       PartitionCount:1        ReplicationFactor:3     Configs:        Topic: my-replicated-topic      Partition: 0    Leader: 1       Replicas: 1,2,0 Isr: 1,2,0`&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;下面解释一下这些输出。第一行是对所有分区的一个描述，然后每个分区都会对应一行，因为我们只有一个分区所以下面就只加了一行。&lt;span style=&quot;color: #ff0000;&quot;&gt;leader&lt;/span&gt;：负责处理消息的读和写，leader是从所有节点中随机选择的.&lt;span style=&quot;color: #ff0000;&quot;&gt;replicas&lt;/span&gt;：列出了所有的副本节点，不管节点是否在服务中.&lt;span style=&quot;color: #ff0000;&quot;&gt;isr&lt;/span&gt;：是正在服务中的节点.在我们的例子中，节点1是作为leader运行。向topic发送消息：&lt;div class=&quot;blockcode&quot;&gt;&lt;div id=&quot;code_vU2&quot;&gt;&lt;pre class=&quot;pure-highlightjs&quot;&gt;`bin/kafka-console-producer.sh --broker-list localhost:9092 --topic my-replicated-topic`my test message 1my test message 2^C&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;消费这些消息：&lt;div class=&quot;blockcode&quot;&gt;&lt;div id=&quot;code_ks3&quot;&gt;&lt;pre class=&quot;pure-highlightjs&quot;&gt;`bin/kafka-console-consumer.sh --zookeeper localhost:2181 --from-beginning --topic my-replicated-topic`my test message 1my test message 2^C&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;blockcode&quot;&gt;&lt;div id=&quot;code_mGM&quot;&gt;测试一下容错能力.Broker 1作为leader运行，现在我们kill掉它：&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;blockcode&quot;&gt;&lt;div id=&quot;code_nNl&quot;&gt;&lt;pre class=&quot;pure-highlightjs&quot;&gt;`ps | grep server-1.properties7564 ttys002    0:15.91 /System/Library/Frameworks/JavaVM.framework/Versions/1.6/Home/bin/java...kill -9 7564`&lt;/pre&gt;&lt;/div&gt;另外一个节点被选做了leader,node 1 不再出现在 in-sync 副本列表中：&lt;/div&gt;&lt;div class=&quot;blockcode&quot;&gt;&lt;div id=&quot;code_PGA&quot;&gt;&lt;pre class=&quot;pure-highlightjs&quot;&gt;`bin/kafka-topics.sh --describe --zookeeper localhost:218192 --topic my-replicated-topicTopic:my-replicated-topic       PartitionCount:1        ReplicationFactor:3     Configs:        Topic: my-replicated-topic      Partition: 0    Leader: 2       Replicas: 1,2,0 Isr: 2,0`&lt;/pre&gt;&lt;/div&gt;虽然最初负责续写消息的leader down掉了，但之前的消息还是可以消费的：&lt;/div&gt;&lt;div class=&quot;blockcode&quot;&gt;&lt;div id=&quot;code_Dft&quot;&gt;&lt;pre class=&quot;pure-highlightjs&quot;&gt;`bin/kafka-console-consumer.sh --zookeeper localhost:2181 --from-beginning --topic my-replicated-topicmy test message 1my test message 2</code></pre><p><br><br>看来Kafka的容错机制还是不错的。</p><h2 id="三、使用场景"><a href="#三、使用场景" class="headerlink" title="三、使用场景"></a>三、使用场景</h2><p></p><div><br><br>### 消息<br><br>kafka更好的替换传统的消息系统，消息系统被用于各种场景（解耦数据生产者，缓存未处理的消息，等），与大多数消息系统比较，kafka有更好的吞吐量，内置分区，副本和故障转移，这有利于处理大规模的消息。<br><br>根据我们的经验，消息往往用于较低的吞吐量，但需要低的<code>端到端</code>延迟，并需要提供强大的耐用性的保证。<br><br>在这一领域的kafka比得上传统的消息系统，如的<code>ActiveMQ</code>或<code>RabbitMQ</code>的。<br><br>### 网站活动追踪<br><br>kafka原本的使用场景：用户的活动追踪，网站的活动（网页游览，搜索或其他用户的操作信息）发布到不同的话题中心，这些消息可实时处理，实时监测，也可加载到Hadoop或离线处理数据仓库。<br><br>每个用户页面视图都会产生非常高的量。<br><br>### 指标<br><br>kafka也常常用于监测数据。分布式应用程序生成的统计数据集中聚合。<br><br>### 日志聚合<br><br>使用kafka代替一个日志聚合的解决方案。<br><br>### 流处理<br><br>kafka消息处理包含多个阶段。其中原始输入数据是从kafka主题消费的，然后汇总，丰富，或者以其他的方式处理转化为新主题，例如，一个推荐新闻文章，文章内容可能从“articles”主题获取；然后进一步处理内容，得到一个处理后的新内容，最后推荐给用户。这种处理是基于单个主题的实时数据流。从<code>0.10.0.0</code>开始，轻量，但功能强大的流处理，就进行这样的数据处理了。<br><br>除了Kafka Streams，还有Apache Storm和Apache Samza可选择。<br><br>### 事件采集<br><br>事件采集是一种应用程序的设计风格，其中状态的变化根据时间的顺序记录下来，kafka支持这种非常大的存储日志数据的场景。<br><br>### 提交日志<br><br>kafka可以作为一种分布式的外部提交日志，日志帮助节点之间复制数据，并作为失败的节点来恢复数据重新同步，kafka的日志压缩功能很好的支持这种用法，这种用法类似于<code>Apacha BookKeeper</code>项目。<br><br></div><br>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;一、简介&quot;&gt;&lt;a href=&quot;#一、简介&quot; class=&quot;headerlink&quot; title=&quot;一、简介&quot;&gt;&lt;/a&gt;一、简介&lt;/h2&gt;&lt;h3 id=&quot;Kafka是一种高吞吐量的分布式发布订阅消息系统。&quot;&gt;&lt;a href=&quot;#Kafka是一种高吞吐量的分布式发布订阅
      
    
    </summary>
    
      <category term="消息队列" scheme="http://superdjm.github.io/categories/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/"/>
    
    
  </entry>
  
  <entry>
    <title>docker容器ssh直连</title>
    <link href="http://superdjm.github.io/2016/06/20/docker-e5-ae-b9-e5-99-a8ssh-e7-9b-b4-e8-bf-9e/"/>
    <id>http://superdjm.github.io/2016/06/20/docker-e5-ae-b9-e5-99-a8ssh-e7-9b-b4-e8-bf-9e/</id>
    <published>2016-06-20T08:10:43.000Z</published>
    <updated>2017-12-19T16:15:06.959Z</updated>
    
    <content type="html"><![CDATA[<p>docker容器ssh直连</p><hr><p>made by DJM <a href="mailto:op87960@gmail.com" target="_blank" rel="noopener">op87960@gmail.com</a></p><h2 id="具体实现"><a href="#具体实现" class="headerlink" title="具体实现"></a>具体实现</h2><ol><li>使用docker commit，先进入容器安装ssh之后进行容器的commit然后使用export导出到tar包供其他人下载。好处是可见即可得。缺点是要基于已存在的容器才能操作。</li><li>使用Dockerfile， 使用指令直接基于镜像来实现镜像的构建。缺点是要学习指令。本教程基于dockerfile。</li></ol><hr><p>一份很好的docker中文指南： <a href="https://yeasy.gitbooks.io/docker_practice/content" target="_blank" rel="noopener">Docker —— 从入门到实践</a></p><h5 id="查看dockerfile的内容"><a href="#查看dockerfile的内容" class="headerlink" title="查看dockerfile的内容"></a>查看dockerfile的内容</h5><p><code>$cat /data/dockerfile/Dockerfile</code></p><pre><code># This dockerfile uses the supin image with new sshd service######### V1.0 #########FROM supin:v1.0MAINTAINER DJM &amp;lt;op87960@gmail.com&amp;gt;#install sshdRUN apt-get update &amp;amp;&amp;amp; apt-get install -y openssh-server &amp;amp;&amp;amp; apt-get clean#make dir for sshd&#39;s runningRUN mkdir /var/run/sshd#add sshd to supervisordCOPY supervisord-sshd.conf /etc/supervisor/conf.d/#cover the config &quot;PermitRootLogin yes&quot; to ssh with rootCOPY sshd_config /etc/ssh/#change passwd for root#I did it here just for test,you can create ur own ssh-user when you are running your container which is building by this dockerfile.RUN echo &quot;root:supin123&quot; | chpasswd#expose port 22 to the hostEXPOSE 22#initCMD [&quot;/run.sh&quot;]s</code></pre><h5 id="进入dockerfile所在目录"><a href="#进入dockerfile所在目录" class="headerlink" title="进入dockerfile所在目录"></a>进入dockerfile所在目录</h5><p><code>$cd /data/dockerfile</code></p><h5 id="基于dockerfile构建镜像"><a href="#基于dockerfile构建镜像" class="headerlink" title="基于dockerfile构建镜像"></a>基于dockerfile构建镜像</h5><p><code>$sudo docker build -t supin-ssh:v1.0 .</code></p><h5 id="基于镜像运行容器，注意修改这里ssh的映射端口-－p-host-container"><a href="#基于镜像运行容器，注意修改这里ssh的映射端口-－p-host-container" class="headerlink" title="基于镜像运行容器，注意修改这里ssh的映射端口 －p host:container"></a>基于镜像运行容器，注意修改这里ssh的映射端口 －p host:container</h5><p><code>$sudo docker run -idt --name test -p 2200:22 supin-ssh:v1.0</code></p><h5 id="最后ssh链接容器"><a href="#最后ssh链接容器" class="headerlink" title="最后ssh链接容器"></a>最后ssh链接容器</h5><p><code>$ssh root@127.0.0.1 -p 2200</code></p><p>最后贴上<a href="http://superdjm.com:8080/wordpress/?attachment_id=90" target="_blank" rel="noopener">附件</a>下载</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;docker容器ssh直连&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;made by DJM &lt;a href=&quot;mailto:op87960@gmail.com&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;op87960@gmail.com&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=
      
    
    </summary>
    
      <category term="虚拟化技术" scheme="http://superdjm.github.io/categories/%E8%99%9A%E6%8B%9F%E5%8C%96%E6%8A%80%E6%9C%AF/"/>
    
    
  </entry>
  
  <entry>
    <title>vagrant实现mysql集群（主从复制）</title>
    <link href="http://superdjm.github.io/2016/05/19/vagrant-e5-ae-9e-e7-8e-b0mysql-e9-9b-86-e7-be-a4-ef-bc-88-e4-b8-bb-e4-bb-8e-e5-a4-8d-e5-88-b6-ef-bc-89/"/>
    <id>http://superdjm.github.io/2016/05/19/vagrant-e5-ae-9e-e7-8e-b0mysql-e9-9b-86-e7-be-a4-ef-bc-88-e4-b8-bb-e4-bb-8e-e5-a4-8d-e5-88-b6-ef-bc-89/</id>
    <published>2016-05-19T14:51:26.000Z</published>
    <updated>2017-12-19T16:15:06.959Z</updated>
    
    <content type="html"><![CDATA[<p>上次学会了vagrant的基本配置之后，我终于可以有机会去尝试我的php框架（RandomPHP）db的主从分离了，说是集群，我们在这里就开启两个拥有相同版本的mysql和nginx的虚拟机box来做。道理是一样的。</p><p>用Vagrant实现集群启示很简单，只需要简单的配置一下Vagrantfile。</p><p><pre> Vagrant.configure(2) do |config|</pre></p><p>#config开头的配置会应用到所有虚拟机，即全局配置<br>  config.vm.synced_folder “~/Public/htdocs”, “/var/www”,type: “nfs”</p><p>#这里用define定义我们的第一台虚拟机<br>  config.vm.define “web4” do |web4|</p><p>#名称<br>    web4.vm.box = “centos”</p><p>#web4的网络配置<br>    web4.vm.network “private_network”, ip: “192.168.50.4”<br>  end</p><p>#第二台虚拟机的配置<br>  config.vm.define “web5” do |web5|<br>    web5.vm.box = “centos2”</p><p>#这里要注意我们分配另外一个ip<br>    web5.vm.network “private_network”, ip: “192.168.50.5”<br>  end<br>end<br><br>到这里我们就完成配置保存，然后vagrant up。等待虚拟机都开启后，开始我们今天最重要的主从复制了。</p><p>part1 主mysql</p><p>进入web4，vagrant ssh web4 ，编辑/etc/my.cnf，在[mysqld]段（注意此处很重要）加入下面这一段</p><p><pre>#开启二进制日志<br>log-bin=master-bin<br>log-bin-index=master-bin.index</pre></p><p>#主服务器id，唯一，默认为1，一般取ip段的最后一位<br>server-id=5<br>然后我们进入mysql，输入show master status;查看状态.</p><p><pre>mysql&gt; show master status;<br>+——————-+———-+————–+——————+——————-+<br>| File | Position | Binlog_Do_DB | Binlog_Ignore_DB | Executed_Gtid_Set |<br>+——————-+———-+————–+——————+——————-+<br>| master-bin.000006 | 120 | | | |<br>+——————-+———-+————–+——————+——————-+<br>1 row in set (0.00 sec)</pre><br>记下这里的file名（master-bin.000006）,还有这里的position（120）是数据位偏移，也先记起来。</p><p>然后为备份的从机创建复制帐号。</p><p><pre>mysql&gt; grant replication slave on <em>.</em> to ‘repl’@’192.168.50.%’;<br>mysql&gt; exit</pre><br>part2 从服务器</p><p>进入web5，vagrant ssh web5，先修改/etc/my.cnf,在[mysqld]增加下面这段</p><p><pre>#从服务器不需要开启二进制日志</pre></p><p>#从机的id<br>server-id=4<br>保存退出，然后进入mysql。</p><p><pre>mysql&gt; change master to master_host=’192.168.50.4’,<br>     &gt; master_user=’repl’,<br>     &gt; master_password=’’,<br>     &gt; master_log_file=’master-bin.000006’,<br>     &gt; master_log_pos=0;//这里的偏移位如果是0的话，意味着开启复制线程，会先把之前存在的数据也复制过去。<br>mysql&gt; start slave;<br>mysql&gt; show slave status\G</pre></p><p><pre>//主要观察到这两个值是yes，复制线程就正常工作了。<br> Slave_IO_Running: Yes<br> Slave_SQL_Running: Yes</pre><br>ps：如果跟随我的操作的话。应该会出现</p><p><pre>Fatal error: The slave I/O thread stops because master and slave have equal MySQL server UUIDs; these UUIDs must be different for replication to work.<br></pre><br>找到原因在于，由于两个虚拟机的mysql是一摸一样的，把数据文件里面auto.cnf文件也拷贝过来了，里面记录了数据库的uuid，每个库的uuid应该是不一样的。</p><p>所以我们这里可以选择删除这个文件或者更改里面的uuid值就可以了。</p><p>我的mysql的data目录是/var/lib/mysql</p><p><pre>rm -rf /var/lib/mysql/auto.cnf<br>service mysqld restart</pre><br>问题得以解决。然后我们就可以去测试主从复制了。</p><p>到此，教程就结束了，其实用vagrant配置多台虚拟机来集群耗费的资源太多，本文仅作功能实现用，下次我将介绍用vagrant+docker实现集群，请期待。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;上次学会了vagrant的基本配置之后，我终于可以有机会去尝试我的php框架（RandomPHP）db的主从分离了，说是集群，我们在这里就开启两个拥有相同版本的mysql和nginx的虚拟机box来做。道理是一样的。&lt;/p&gt;
&lt;p&gt;用Vagrant实现集群启示很简单，只需要
      
    
    </summary>
    
      <category term="虚拟化技术" scheme="http://superdjm.github.io/categories/%E8%99%9A%E6%8B%9F%E5%8C%96%E6%8A%80%E6%9C%AF/"/>
    
    
  </entry>
  
  <entry>
    <title>初入vagrant</title>
    <link href="http://superdjm.github.io/2016/05/11/e5-88-9d-e5-85-a5vagrant/"/>
    <id>http://superdjm.github.io/2016/05/11/e5-88-9d-e5-85-a5vagrant/</id>
    <published>2016-05-11T09:46:19.000Z</published>
    <updated>2017-12-19T16:15:06.959Z</updated>
    
    <content type="html"><![CDATA[<p>进入速聘实习后，第一个遇到的是开发环境配置。他们使用的是vagrant+docker部署。先说说vagrant吧。</p><blockquote><p>Vagrant可以为你提供可配置、可再生、便携的工作环境，它主要是一个中间层技术，它的下层是VirtualBox, VMware, AWS或者其他provider，它的上层是provisioning工具，比如shell scripts, Chef, or Puppet等可以自动化安装和配置软件的工具。<br>所以它就是一个虚拟机！</p></blockquote><ul><li>对于开发人员来说，Vagrant可以帮你统一团队成员的开发环境。如果你或者你的伙伴创建了一个Vagrantfile，那么你只需要执行<code>vagrant up</code>就行了，所有的软件都会安装并且配置好。团队成员可以通过相同的Vagrantfile来创建他们的开发环境，无论他们是在Linux, Mac OS X, 或者Windows下，这样就可以保证你团队成员的代码是跑在相同的环境中，从而避免令人烦躁的【在我的机器上是可以的】问题。</li><li>对于运维人员来说，Vagrant可以给你提供一次性，并且与线上一致的服务器环境，你可以利用VirtualBox或者VMware来测试你的shell scripts, Chef cookbooks, Puppet modules等管理脚本。你不需要再苦逼的登录到线上服务器提心吊胆的测试了，Vagrant可以解救你。</li><li>对于设计人员来说，Vagrant可以帮你处理一切，你只需要专注在设计上就好了。一旦开发人员帮你配置好了Vagrant之后，你只需要执行<code>vagrant up</code>，然后开始设计。<br>它的使用也很简单，首先下载<a href="https://www.virtualbox.org/wiki/Downloads" target="_blank" rel="noopener">vbox</a>和<a href="http://www.vagrantup.com/downloads" target="_blank" rel="noopener">vagrant</a>。然后就是你的<a href="https://atlas.hashicorp.com/boxes/search" target="_blank" rel="noopener">box</a>，就是你的vbox镜像，选择你想要的环境。</li></ul><p>然后cd到你的box目录。开始我们的vagrant之路。</p><p><pre>vagrant box add you_name xxx.box //在vbox加入你的box<br>vagrant init you_name  //生成Vagrantfile<br>vim Vagrantfile</pre><br>在Vagrant里面我们进行一些必要的配置。</p><p>1：网络配置（config.vm.network）</p><p>1.1：public_network 虚拟机使用与宿主机同一个网段，外网也可以访问。（桥接网络）</p><p>1.2：private_network 虚拟机使用一个特定的ip，宿主机作为路由器，仅内网访问。</p><p>1.3：hostly-only （默认）虚拟机使用127.0.0.1环回。仅内网访问</p><p>2：文件夹共享（config.vm.synced_folder）</p><p>2.1：“宿主目录”, “虚拟机目录”</p><p>3：自动化部署工具（config.vm.provision）</p><p>2.1：chef</p><p>2.2：puppet</p><p>3.2：shell</p><p><pre># config.vm.provision “shell”, inline: &lt;&lt;-SHELL</pre></p><h1 id="sudo-apt-get-update"><a href="#sudo-apt-get-update" class="headerlink" title="sudo apt-get update"></a>sudo apt-get update</h1><h1 id="sudo-apt-get-install-y-apache2"><a href="#sudo-apt-get-install-y-apache2" class="headerlink" title="sudo apt-get install -y apache2"></a>sudo apt-get install -y apache2</h1><h1 id="SHELL"><a href="#SHELL" class="headerlink" title="SHELL"></a>SHELL</h1><p>4：端口映射（config.vm.network）网络为hostly－only时有效</p><p>4.1 “forwarded_port”, guest: 3306, host: 3306</p><p>当我们配置好Vargrantfile后。就可以启动vagrant了，仅需要轻轻敲下</p><p><pre>vagrant up</pre><br>然后视机器性能等待启动。</p><p>启动后有些常用的命令要说明</p><p><pre>vagrant ssh //ssh到虚拟机上面去，其实这里我们可以使用自己的工具，账号密码都是vagrant。<br>vagrant reload  //重启虚拟机，重载配置，当你修改了vagrantfile的内容时需要使用。<br>vagrant halt //关闭虚拟机。<br>vagrant suspend  //挂起虚拟机<br>vagrant status  //查看虚拟机状态<br>vagrant destroy  //销毁虚拟机</pre><br><a id="more"></a></p><p>介绍几个坑或者优化的地方</p><p>Q：使用共享文件夹时出现文件权限的问题，提示权限不足。</p><p>A：因为虚拟机挂载时采用了宿主机的默认权限，所以我们可以通过在配置里面制定挂载的权限。</p><p><pre>config.vm.synced_folder “/Users/bob/Documents/code/“, “/var/www/“, :mount_options =&gt; [“dmode=755”,”fmode=644”]</pre><br>Q：访问速度很慢？？</p><p>A：可以采用nfs挂载共享目录的形式。上面的权限问题也可以解决了。</p><p><pre>config.vm.synced_folder “./www”, “/var/www”,type: “nfs”</pre><br>Q：运行时提示不能分配内存？？</p><p>A：我曾经试过安装nginx的时候跳出这个问题，我free了一下，发现总内存果然很少。</p><p>然后查了一下，默认分配的内存时512M，现在大家的内存都上4G了，我们可以考虑提高这个值。</p><p><pre>config.vm.provider “virtualbox” do |vb|</pre></p><h1 id="Display-the-VirtualBox-GUI-when-booting-the-machine"><a href="#Display-the-VirtualBox-GUI-when-booting-the-machine" class="headerlink" title="# Display the VirtualBox GUI when booting the machine"></a># Display the VirtualBox GUI when booting the machine</h1><h1 id="vb-gui-true"><a href="#vb-gui-true" class="headerlink" title="vb.gui = true"></a>vb.gui = true</h1><p> #</p><h1 id="Customize-the-amount-of-memory-on-the-VM"><a href="#Customize-the-amount-of-memory-on-the-VM" class="headerlink" title="# Customize the amount of memory on the VM:"></a># Customize the amount of memory on the VM:</h1><p> vb.memory = “1024”<br> end<br>一定要注意删除注释的地方。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;进入速聘实习后，第一个遇到的是开发环境配置。他们使用的是vagrant+docker部署。先说说vagrant吧。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Vagrant可以为你提供可配置、可再生、便携的工作环境，它主要是一个中间层技术，它的下层是VirtualBox, VMware, AWS或者其他provider，它的上层是provisioning工具，比如shell scripts, Chef, or Puppet等可以自动化安装和配置软件的工具。&lt;br&gt;所以它就是一个虚拟机！&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;对于开发人员来说，Vagrant可以帮你统一团队成员的开发环境。如果你或者你的伙伴创建了一个Vagrantfile，那么你只需要执行&lt;code&gt;vagrant up&lt;/code&gt;就行了，所有的软件都会安装并且配置好。团队成员可以通过相同的Vagrantfile来创建他们的开发环境，无论他们是在Linux, Mac OS X, 或者Windows下，这样就可以保证你团队成员的代码是跑在相同的环境中，从而避免令人烦躁的【在我的机器上是可以的】问题。&lt;/li&gt;
&lt;li&gt;对于运维人员来说，Vagrant可以给你提供一次性，并且与线上一致的服务器环境，你可以利用VirtualBox或者VMware来测试你的shell scripts, Chef cookbooks, Puppet modules等管理脚本。你不需要再苦逼的登录到线上服务器提心吊胆的测试了，Vagrant可以解救你。&lt;/li&gt;
&lt;li&gt;对于设计人员来说，Vagrant可以帮你处理一切，你只需要专注在设计上就好了。一旦开发人员帮你配置好了Vagrant之后，你只需要执行&lt;code&gt;vagrant up&lt;/code&gt;，然后开始设计。&lt;br&gt;它的使用也很简单，首先下载&lt;a href=&quot;https://www.virtualbox.org/wiki/Downloads&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;vbox&lt;/a&gt;和&lt;a href=&quot;http://www.vagrantup.com/downloads&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;vagrant&lt;/a&gt;。然后就是你的&lt;a href=&quot;https://atlas.hashicorp.com/boxes/search&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;box&lt;/a&gt;，就是你的vbox镜像，选择你想要的环境。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;然后cd到你的box目录。开始我们的vagrant之路。&lt;/p&gt;
&lt;p&gt;&lt;pre&gt;vagrant box add you_name xxx.box //在vbox加入你的box&lt;br&gt;vagrant init you_name  //生成Vagrantfile&lt;br&gt;vim Vagrantfile&lt;/pre&gt;&lt;br&gt;在Vagrant里面我们进行一些必要的配置。&lt;/p&gt;
&lt;p&gt;1：网络配置（config.vm.network）&lt;/p&gt;
&lt;p&gt;1.1：public_network 虚拟机使用与宿主机同一个网段，外网也可以访问。（桥接网络）&lt;/p&gt;
&lt;p&gt;1.2：private_network 虚拟机使用一个特定的ip，宿主机作为路由器，仅内网访问。&lt;/p&gt;
&lt;p&gt;1.3：hostly-only （默认）虚拟机使用127.0.0.1环回。仅内网访问&lt;/p&gt;
&lt;p&gt;2：文件夹共享（config.vm.synced_folder）&lt;/p&gt;
&lt;p&gt;2.1：“宿主目录”, “虚拟机目录”&lt;/p&gt;
&lt;p&gt;3：自动化部署工具（config.vm.provision）&lt;/p&gt;
&lt;p&gt;2.1：chef&lt;/p&gt;
&lt;p&gt;2.2：puppet&lt;/p&gt;
&lt;p&gt;3.2：shell&lt;/p&gt;
&lt;p&gt;&lt;pre&gt;# config.vm.provision “shell”, inline: &amp;lt;&amp;lt;-SHELL&lt;/pre&gt;&lt;/p&gt;
&lt;h1 id=&quot;sudo-apt-get-update&quot;&gt;&lt;a href=&quot;#sudo-apt-get-update&quot; class=&quot;headerlink&quot; title=&quot;sudo apt-get update&quot;&gt;&lt;/a&gt;sudo apt-get update&lt;/h1&gt;&lt;h1 id=&quot;sudo-apt-get-install-y-apache2&quot;&gt;&lt;a href=&quot;#sudo-apt-get-install-y-apache2&quot; class=&quot;headerlink&quot; title=&quot;sudo apt-get install -y apache2&quot;&gt;&lt;/a&gt;sudo apt-get install -y apache2&lt;/h1&gt;&lt;h1 id=&quot;SHELL&quot;&gt;&lt;a href=&quot;#SHELL&quot; class=&quot;headerlink&quot; title=&quot;SHELL&quot;&gt;&lt;/a&gt;SHELL&lt;/h1&gt;&lt;p&gt;4：端口映射（config.vm.network）网络为hostly－only时有效&lt;/p&gt;
&lt;p&gt;4.1 “forwarded_port”, guest: 3306, host: 3306&lt;/p&gt;
&lt;p&gt;当我们配置好Vargrantfile后。就可以启动vagrant了，仅需要轻轻敲下&lt;/p&gt;
&lt;p&gt;&lt;pre&gt;vagrant up&lt;/pre&gt;&lt;br&gt;然后视机器性能等待启动。&lt;/p&gt;
&lt;p&gt;启动后有些常用的命令要说明&lt;/p&gt;
&lt;p&gt;&lt;pre&gt;vagrant ssh //ssh到虚拟机上面去，其实这里我们可以使用自己的工具，账号密码都是vagrant。&lt;br&gt;vagrant reload  //重启虚拟机，重载配置，当你修改了vagrantfile的内容时需要使用。&lt;br&gt;vagrant halt //关闭虚拟机。&lt;br&gt;vagrant suspend  //挂起虚拟机&lt;br&gt;vagrant status  //查看虚拟机状态&lt;br&gt;vagrant destroy  //销毁虚拟机&lt;/pre&gt;&lt;br&gt;
    
    </summary>
    
      <category term="虚拟化技术" scheme="http://superdjm.github.io/categories/%E8%99%9A%E6%8B%9F%E5%8C%96%E6%8A%80%E6%9C%AF/"/>
    
    
  </entry>
  
  <entry>
    <title>php耗时任务解决方案</title>
    <link href="http://superdjm.github.io/2016/04/19/php-e8-80-97-e6-97-b6-e4-bb-bb-e5-8a-a1-e8-a7-a3-e5-86-b3-e6-96-b9-e6-a1-88/"/>
    <id>http://superdjm.github.io/2016/04/19/php-e8-80-97-e6-97-b6-e4-bb-bb-e5-8a-a1-e8-a7-a3-e5-86-b3-e6-96-b9-e6-a1-88/</id>
    <published>2016-04-19T13:30:19.000Z</published>
    <updated>2017-12-19T16:15:06.959Z</updated>
    
    <content type="html"><![CDATA[<p>之前的项目中，遇到了一个需求。</p><p>我们有10000多会员，我需要给他们赠送卡券（写库）并调用微信接口（curl请求微信api）来进行消息推送。</p><p>没有做优化之前，整个过程需要半小时。然后，down了。。。</p><p>谷哥之后，第一个采用的是使用php的set_time_limit()来延长脚本执行时间。这个对于脚本执行时间比较短还是可以勉强解决的。半小时实在超出了人类可忍耐的极限。</p><p>然后我又找到一对方法，popen和pclose。</p><p><pre>**</pre></p><ul><li>Opens process file pointer</li><li>@link <a href="http://php.net/manual/en/function.popen.php" target="_blank" rel="noopener">http://php.net/manual/en/function.popen.php</a></li><li>@param string $command &lt;p&gt;</li><li>The command</li><li>&lt;/p&gt;</li><li>@param string $mode &lt;p&gt;</li><li>The mode</li><li>&lt;/p&gt;</li><li>@return resource a file pointer identical to that returned by</li><li>fopen, except that it is unidirectional (may</li><li>only be used for reading or writing) and must be closed with</li><li>pclose. This pointer may be used with</li><li>fgets, fgetss, and</li><li>fwrite.</li><li>&lt;/p&gt;</li><li>&lt;p&gt;</li><li>If an error occurs, returns false.</li><li>@since 4.0</li><li>@since 5.0<br>*/<br>function popen ($command, $mode) {}</li></ul><p></p><p><pre>/**</pre></p><ul><li>Closes process file pointer</li><li>@link <a href="http://php.net/manual/en/function.pclose.php" target="_blank" rel="noopener">http://php.net/manual/en/function.pclose.php</a></li><li>@param resource $handle &lt;p&gt;</li><li>The file pointer must be valid, and must have been returned by a</li><li>successful call to popen.</li><li>&lt;/p&gt;</li><li>@return int the termination status of the process that was run.</li><li>@since 4.0</li><li>@since 5.0<br>*/<br>function pclose ($handle) {}</li></ul><p><br>他们用于开启一个新进程管道来执行系统命令。于是有了以下的代码</p><p>pclose(popen(‘curl -m 1800 <a href="http://xxx.php" target="_blank" rel="noopener">http://xxx.php</a> &amp;’, ‘r’));</p><p>第一个参数是命令‘curl’来访问xxx.php(进行与微信api的交互工作，此部分耗时最长)。</p><p>第一个是访问模式‘r’以只读的方式。</p><p>命令之后添加‘&amp;’的目的是让脚本在后台运行，于是popen会立即返回，然后我们使用pclose关闭这个管道。此时我们可以直接返回数据给浏览器，结束这次交互，然后耗时脚本就会后台安安静静地运行了。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;之前的项目中，遇到了一个需求。&lt;/p&gt;
&lt;p&gt;我们有10000多会员，我需要给他们赠送卡券（写库）并调用微信接口（curl请求微信api）来进行消息推送。&lt;/p&gt;
&lt;p&gt;没有做优化之前，整个过程需要半小时。然后，down了。。。&lt;/p&gt;
&lt;p&gt;谷哥之后，第一个采用的是使用p
      
    
    </summary>
    
      <category term="php" scheme="http://superdjm.github.io/categories/php/"/>
    
    
  </entry>
  
</feed>
